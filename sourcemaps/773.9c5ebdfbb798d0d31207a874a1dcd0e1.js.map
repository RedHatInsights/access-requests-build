{"version":3,"file":"js/773.96d0f8ad3485d03e07bd.js","mappings":"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","sources":["webpack:///./src/Components/CancelRequestModal.js","webpack:///./src/Components/EditRequestModal.js","webpack:///./src/Components/MUARolesTable.js","webpack:///./src/Helpers/apiInstance.js","webpack:///./src/Helpers/getActions.js","webpack:///./src/Helpers/getLabelProps.js"],"sourcesContent":["import React from 'react';\nimport { Modal, Button, Spinner } from '@patternfly/react-core';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport PropTypes from 'prop-types';\nimport apiInstance from '../Helpers/apiInstance';\n\nconst CancelRequestModal = ({ requestId, onClose }) => {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const dispatch = useDispatch();\n  const onCancel = () => {\n    setIsLoading(true);\n    // https://ci.cloud.redhat.com/docs/api-docs/rbac#operations-CrossAccountRequest-patchCrossAccountRequest\n    apiInstance\n      .patch(\n        `${API_BASE}/cross-account-requests/${requestId}/`,\n        { status: 'cancelled' },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n          },\n        }\n      )\n      .then((res) => {\n        if (res.errors && res.errors.length > 0) {\n          throw Error(res.errors.map((e) => e.detail).join('\\n'));\n        }\n        dispatch(\n          addNotification({\n            variant: 'success',\n            title: 'Request cancelled successfully',\n          })\n        );\n        setIsLoading(false);\n        onClose(true);\n      })\n      .catch((err) => {\n        dispatch(\n          addNotification({\n            variant: 'danger',\n            title: 'There was an error cancelling your request',\n            description: err.message,\n          })\n        );\n        setIsLoading(false);\n        onClose(true);\n      });\n  };\n  return (\n    <Modal\n      title=\"Cancel request?\"\n      isOpen\n      variant=\"small\"\n      onClose={() => onClose(false)}\n      actions={[\n        <Button key=\"confirm\" variant=\"danger\" onClick={onCancel}>\n          Yes, cancel\n        </Button>,\n        <Button key=\"cancel\" variant=\"link\" onClick={() => onClose(false)}>\n          No, keep\n        </Button>,\n      ]}\n    >\n      Request <b>{requestId}</b> will be withdrawn.\n      {isLoading && <Spinner size=\"lg\" />}\n    </Modal>\n  );\n};\n\nCancelRequestModal.propTypes = {\n  requestId: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nexport default CancelRequestModal;\n","import React from 'react';\nimport {\n  Form,\n  FormGroup,\n  TextInput,\n  Split,\n  SplitItem,\n  Popover,\n  DatePicker,\n  Title,\n  Spinner,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  Button,\n  Modal,\n  Wizard,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\nimport HelpIcon from '@patternfly/react-icons/dist/js/icons/help-icon';\nimport ExclamationCircleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-circle-icon';\nimport { capitalize } from '@patternfly/react-core/dist/esm/helpers/util';\nimport { isValidDate } from '@patternfly/react-core/dist/esm/components/CalendarMonth';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport MUARolesTable from './MUARolesTable';\nimport PropTypes from 'prop-types';\nimport apiInstance from '../Helpers/apiInstance';\n\nconst nameHelperText =\n  'Customers will be able to see this information as part of your request';\nconst helperTexts = {\n  'first name': nameHelperText,\n  'last name': nameHelperText,\n  'account number':\n    'This is the account number that you would like to receive read access to',\n  'access duration':\n    'This is the time frame you would like to be granted read access to accounts',\n  'organization id':\n    'This is the org id of the account that you would like to receive read access to',\n};\nconst invalidAccountTitle = 'Invalid Account number';\nconst getLabelIcon = (field) => (\n  <Popover bodyContent={<p>{helperTexts[field]}</p>}>\n    <button\n      type=\"button\"\n      aria-label={`More info for ${field}`}\n      onClick={(e) => e.preventDefault()}\n      aria-describedby=\"form-name\"\n      className=\"pf-c-form__group-label-help\"\n    >\n      <HelpIcon noVerticalAlign />\n    </button>\n  </Popover>\n);\n\nconst today = new Date();\ntoday.setDate(today.getDate() - 1);\nconst maxStartDate = new Date();\nmaxStartDate.setDate(maxStartDate.getDate() + 60);\nconst dateFormat = (date) =>\n  date.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n  });\nconst dateParse = (date) => {\n  const split = date.split('/');\n  if (split.length !== 3) {\n    return new Date();\n  }\n  let month = split[0].padStart(2, '0');\n  let day = split[1].padStart(2, '0');\n  let year = split[2].padStart(4, '0');\n  return new Date(`${year}-${month}-${day}T00:00:00`);\n};\nconst RequestDetailsForm = ({\n  user = {},\n  targetAccount,\n  setTargetAccount,\n  targetOrg,\n  setTargetOrg,\n  start,\n  setStart,\n  end,\n  setEnd,\n  disableAccount,\n  disableOrgId,\n  isLoading,\n  error,\n}) => {\n  let [startDate, setStartDate] = React.useState();\n  const [validatedAccount, setValidatedAccount] = React.useState(\n    error ? 'error' : 'default'\n  );\n\n  const [validatedOrgId, setValidatedOrgId] = React.useState(\n    error ? 'error' : 'default'\n  );\n\n  // https://github.com/RedHatInsights/insights-rbac/blob/master/rbac/api/cross_access/model.py#L49\n  const startValidator = (date) => {\n    if (isValidDate(date)) {\n      if (date < today) {\n        setEnd('');\n        return 'Start date must be today or later';\n      }\n      if (date > maxStartDate) {\n        setEnd('');\n        return 'Start date must be within 60 days of today';\n      }\n    }\n\n    return '';\n  };\n\n  const endValidator = (date) => {\n    if (isValidDate(startDate)) {\n      if (startDate > date) {\n        return 'End date must be after from date';\n      }\n    }\n\n    const maxToDate = new Date(startDate);\n    maxToDate.setFullYear(maxToDate.getFullYear() + 1);\n    if (date > maxToDate) {\n      return 'Access duration may not be longer than one year';\n    }\n\n    return '';\n  };\n\n  const onStartChange = (str, date) => {\n    setStartDate(new Date(date));\n    setStart(str);\n    if (isValidDate(date) && !startValidator(date)) {\n      date.setDate(date.getDate() + 7);\n      setEnd(dateFormat(date));\n    } else {\n      setEnd('');\n    }\n  };\n\n  const onEndChange = (str, date) => {\n    if (endValidator(date)) {\n      setEnd('');\n    } else {\n      setEnd(str);\n    }\n  };\n\n  return (\n    <Form onSubmit={(ev) => ev.preventDefault()} isDisabled={isLoading}>\n      <Title headingLevel=\"h2\">Request details</Title>\n      <Split hasGutter>\n        <SplitItem isFilled>\n          <FormGroup label=\"First name\" labelIcon={getLabelIcon('first name')}>\n            <TextInput id=\"first-name\" value={user.first_name} isDisabled />\n          </FormGroup>\n        </SplitItem>\n        <SplitItem isFilled>\n          <FormGroup label=\"Last name\" labelIcon={getLabelIcon('last name')}>\n            <TextInput id=\"last-name\" value={user.last_name} isDisabled />\n          </FormGroup>\n        </SplitItem>\n      </Split>\n      <FormGroup\n        label=\"Account number\"\n        isRequired\n        labelIcon={getLabelIcon('account number')}\n        helperText=\"Enter the account number you would like access to\"\n        helperTextInvalid=\"Please enter a valid account number\"\n        validated={validatedAccount}\n      >\n        <TextInput\n          id=\"account-number\"\n          value={targetAccount}\n          onChange={(val) => {\n            setTargetAccount(val);\n            setValidatedAccount('default');\n          }}\n          isRequired\n          placeholder=\"Example, 8675309\"\n          validated={validatedAccount}\n          isDisabled={disableAccount}\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Organization id\"\n        isRequired\n        labelIcon={getLabelIcon('organization id')}\n        helperText=\"Enter the organization id you would like access to\"\n        helperTextInvalid=\"Please enter a valid organization id\"\n        validated={validatedOrgId}\n      >\n        <TextInput\n          id=\"org-id\"\n          value={targetOrg}\n          onChange={(val) => {\n            setTargetOrg(val);\n            setValidatedOrgId('default');\n          }}\n          isRequired\n          placeholder=\"Example, 1234567\"\n          validated={validatedOrgId}\n          isDisabled={disableOrgId}\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Access duration\"\n        isRequired\n        labelIcon={getLabelIcon('access duration')}\n      >\n        <Split>\n          <SplitItem>\n            <DatePicker\n              width=\"300px\"\n              aria-label=\"Start date\"\n              value={start}\n              dateFormat={dateFormat}\n              dateParse={dateParse}\n              placeholder=\"mm/dd/yyyy\"\n              onChange={onStartChange}\n              validators={[startValidator]}\n            />\n          </SplitItem>\n          <SplitItem style={{ padding: '6px 12px 0 12px' }}>to</SplitItem>\n          <SplitItem>\n            <DatePicker\n              width=\"300px\"\n              aria-label=\"End date\"\n              value={end}\n              dateFormat={dateFormat}\n              dateParse={dateParse}\n              placeholder=\"mm/dd/yyyy\"\n              onChange={onEndChange}\n              validators={[endValidator]}\n              rangeStart={start}\n            />\n          </SplitItem>\n        </Split>\n      </FormGroup>\n    </Form>\n  );\n};\n\nRequestDetailsForm.propTypes = {\n  user: PropTypes.any,\n  targetAccount: PropTypes.any,\n  setTargetAccount: PropTypes.any,\n  targetOrg: PropTypes.any,\n  setTargetOrg: PropTypes.any,\n  start: PropTypes.any,\n  setStart: PropTypes.any,\n  end: PropTypes.any,\n  setEnd: PropTypes.any,\n  disableAccount: PropTypes.any,\n  disableOrgId: PropTypes.any,\n  isLoading: PropTypes.any,\n  error: PropTypes.any,\n};\n\n// Can't use CSS with @redhat-cloud-services/frontend-components-config because it's scoped to <main> content\n// rather than Modal content...\nconst spaceUnderStyle = { paddingBottom: '16px' };\nconst ReviewStep = ({\n  targetAccount,\n  start,\n  end,\n  roles,\n  isLoading,\n  error,\n  onClose,\n}) => {\n  let content = null;\n  if (isLoading) {\n    content = (\n      <EmptyState>\n        <EmptyStateIcon icon={() => <Spinner size=\"lg\" />} />\n        <Title headingLevel=\"h2\" size=\"lg\">\n          Submitting access request\n        </Title>\n        <Button variant=\"link\" onClick={onClose}>\n          Close\n        </Button>\n      </EmptyState>\n    );\n  } else if (error) {\n    const context = React.useContext(WizardContextConsumer);\n    content = (\n      <EmptyState>\n        <EmptyStateIcon icon={ExclamationCircleIcon} color=\"#C9190B\" />\n        <Title headingLevel=\"h2\" size=\"lg\">\n          {error.title}\n        </Title>\n        <EmptyStateBody>{error.description}</EmptyStateBody>\n        {error.title === invalidAccountTitle && (\n          <Button variant=\"primary\" onClick={() => context.goToStepById(1)}>\n            Return to Step 1\n          </Button>\n        )}\n      </EmptyState>\n    );\n  } else {\n    content = (\n      <React.Fragment>\n        <Title headingLevel=\"h2\" style={spaceUnderStyle}>\n          Review details\n        </Title>\n        <table>\n          <tr>\n            <td style={spaceUnderStyle}>\n              <b>Account number</b>\n            </td>\n            <td style={spaceUnderStyle}>{targetAccount}</td>\n          </tr>\n          <tr>\n            <td style={{ paddingRight: '32px' }}>\n              <b>Access duration</b>\n            </td>\n            <td></td>\n          </tr>\n          <tr>\n            <td>From</td>\n            <td>{start}</td>\n          </tr>\n          <tr>\n            <td style={spaceUnderStyle}>To</td>\n            <td style={spaceUnderStyle}>{end}</td>\n          </tr>\n          <tr>\n            <td>\n              <b>Roles</b>\n            </td>\n            <td>{roles[0]}</td>\n          </tr>\n          {roles.slice(1).map((role) => (\n            <tr key={role}>\n              <td></td>\n              <td>{role}</td>\n            </tr>\n          ))}\n        </table>\n      </React.Fragment>\n    );\n  }\n\n  return <React.Fragment>{content}</React.Fragment>;\n};\n\nReviewStep.propTypes = {\n  targetAccount: PropTypes.any,\n  start: PropTypes.any,\n  end: PropTypes.any,\n  roles: PropTypes.any,\n  isLoading: PropTypes.any,\n  error: PropTypes.any,\n  onClose: PropTypes.any,\n};\n\nconst EditRequestModal = ({ requestId, variant, onClose }) => {\n  const isEdit = variant === 'edit';\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [error, setError] = React.useState();\n  const [user, setUser] = React.useState();\n  const [targetAccount, setTargetAccount] = React.useState();\n  const [targetOrg, setTargetOrg] = React.useState();\n  const [start, setStart] = React.useState();\n  const [end, setEnd] = React.useState();\n  const [roles, setRoles] = React.useState([]);\n  const [warnClose, setWarnClose] = React.useState(false);\n  const [step, setStep] = React.useState(1);\n  const dispatch = useDispatch();\n  const isDirty = Boolean(targetAccount || start || end || roles.length > 0);\n\n  // We need to be logged in (and see the username) which is an async request.\n  // If we're editing we also need to fetch the roles\n  React.useEffect(() => {\n    const userPromise = window.insights.chrome.auth.getUser();\n    const detailsPromise = isEdit\n      ? apiInstance.get(`${API_BASE}/cross-account-requests/${requestId}/`, {\n          headers: { Accept: 'application/json' },\n        })\n      : new Promise((res) => res(true));\n\n    Promise.all([userPromise, detailsPromise])\n      .then(([user, details]) => {\n        if (user && user.identity && user.identity.user) {\n          setUser(user.identity.user);\n        } else {\n          throw Error(\"Couldn't get current user. Make sure you're logged in\");\n        }\n        if (isEdit) {\n          if (details.errors) {\n            throw Error(details.errors.map((e) => e.detail).join('\\n'));\n          }\n          if (details && details.target_account) {\n            setTargetAccount(details.target_account);\n            setStart(details.start_date);\n            setEnd(details.end_date);\n            setRoles(details.roles.map((role) => role.display_name));\n            setTargetOrg(details.org_id);\n          } else {\n            throw Error(`Could not fetch details for request ${requestId}`);\n          }\n        }\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        dispatch(\n          addNotification({\n            variant: 'danger',\n            title: 'Could not load access request',\n            description: err.message,\n          })\n        );\n      });\n  }, []);\n\n  const onSave = () => {\n    setIsLoading(true);\n    // https://cloud.redhat.com/docs/api-docs/rbac#operations-CrossAccountRequest-createCrossAccountRequests\n    const body = {\n      target_account: targetAccount,\n      start_date: start,\n      end_date: end,\n      org_id: targetOrg,\n      roles,\n    };\n    apiInstance[isEdit ? 'put' : 'post'](\n      `${API_BASE}/cross-account-requests/${isEdit ? `/${requestId}/` : ''}`,\n      body,\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n        },\n      }\n    )\n      .then((res) => {\n        if (res.errors && res.errors.length > 0) {\n          throw Error(res.errors[0].detail);\n        }\n        dispatch(\n          addNotification({\n            variant: 'success',\n            title: `${isEdit ? 'Edited' : 'Created'} access request`,\n            description: res.request_id,\n          })\n        );\n        onClose(true);\n      })\n      .catch((err) => {\n        const isInvalidAccount = /Account .* does not exist/.test(err.message);\n        setError({\n          title: isInvalidAccount\n            ? invalidAccountTitle\n            : `Could not ${variant} access request`,\n          description: isInvalidAccount\n            ? 'Please return to Step 1: Request details and input a new account number for your request.'\n            : err.message,\n        });\n        setIsLoading(false);\n      });\n  };\n\n  const step1Complete = [targetAccount, start, end].every(Boolean);\n  const step2Complete = roles.length > 0;\n  const steps = [\n    {\n      id: 1,\n      name: 'Request details',\n      component: (\n        <RequestDetailsForm\n          user={user}\n          targetAccount={targetAccount}\n          setTargetAccount={setTargetAccount}\n          targetOrg={targetOrg}\n          setTargetOrg={setTargetOrg}\n          start={start}\n          setStart={setStart}\n          end={end}\n          setEnd={setEnd}\n          disableAccount={isEdit}\n          isLoading={isLoading}\n          error={error}\n        />\n      ),\n      enableNext: step1Complete,\n    },\n    {\n      id: 2,\n      name: 'Select roles',\n      component: <MUARolesTable roles={roles} setRoles={setRoles} />,\n      enableNext: step2Complete,\n      canJumpTo: step1Complete,\n    },\n    {\n      id: 3,\n      name: 'Review details',\n      component: (\n        <ReviewStep\n          targetAccount={targetAccount}\n          start={start}\n          end={end}\n          roles={roles}\n          isLoading={isLoading}\n          error={error}\n          setError={setError}\n          onClose={() => onClose(false)}\n        />\n      ),\n      canJumpTo: step1Complete && step2Complete,\n      enableNext: !isLoading,\n      nextButtonText: 'Finish',\n    },\n  ];\n\n  const titleId = `${variant}-request`;\n  const descriptionId = `${variant} request`;\n  return (\n    <React.Fragment>\n      <Modal\n        variant=\"large\"\n        style={{ height: '900px' }}\n        showClose={false}\n        hasNoBodyWrapper\n        isOpen={!warnClose}\n        aria-describedby={descriptionId}\n        aria-labelledby={titleId}\n      >\n        <Wizard\n          titleId={titleId}\n          descriptionId={descriptionId}\n          title={capitalize(variant) + ' request'}\n          steps={steps}\n          onClose={() => (isDirty ? setWarnClose(true) : onClose(false))}\n          onSave={onSave}\n          startAtStep={step}\n          onNext={({ id }) => {\n            setError();\n            setStep(id);\n          }}\n          onBack={({ id }) => {\n            setError();\n            setStep(id);\n          }}\n          onGoToStep={({ id }) => {\n            setError();\n            setStep(id);\n          }}\n        />\n      </Modal>\n      {warnClose && (\n        <Modal\n          title=\"Exit request creation?\"\n          variant=\"small\"\n          titleIconVariant=\"warning\"\n          isOpen\n          onClose={() => setWarnClose(false)}\n          actions={[\n            <Button\n              key=\"confirm\"\n              variant=\"primary\"\n              onClick={() => onClose(false)}\n            >\n              Exit\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"link\"\n              onClick={() => setWarnClose(false)}\n            >\n              Stay\n            </Button>,\n          ]}\n        >\n          All inputs will be discarded.\n        </Modal>\n      )}\n    </React.Fragment>\n  );\n};\n\nEditRequestModal.propTypes = {\n  requestId: PropTypes.string,\n  variant: PropTypes.any,\n  onClose: PropTypes.func,\n};\n\nexport default EditRequestModal;\n","import React from 'react';\nimport {\n  Title,\n  Toolbar,\n  ToolbarContent,\n  ToolbarItem,\n  Select,\n  Dropdown,\n  SelectOption,\n  DropdownItem,\n  DropdownToggle,\n  InputGroup,\n  TextInput,\n  Button,\n  Pagination,\n  ChipGroup,\n  Chip,\n  DropdownToggleCheckbox,\n  Tooltip,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport {\n  TableComposable,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n} from '@patternfly/react-table';\nimport FilterIcon from '@patternfly/react-icons/dist/js/icons/filter-icon';\nimport SearchIcon from '@patternfly/react-icons/dist/js/icons/search-icon';\nimport { capitalize } from '@patternfly/react-core/dist/esm/helpers/util';\nimport { css } from '@patternfly/react-styles';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport PropTypes from 'prop-types';\nimport apiInstance from '../Helpers/apiInstance';\n\nlet rolesCache = [];\nlet applicationsCache = [];\n\nconst MUARolesTable = ({\n  roles: selectedRoles,\n  setRoles: setSelectedRoles,\n}) => {\n  const isReadOnly = setSelectedRoles === undefined;\n  const columns = ['Role name', 'Role description', 'Permissions'];\n  const [rows, setRows] = React.useState(Array.from(rolesCache));\n  const [applications, setApplications] = React.useState(applicationsCache);\n  React.useEffect(() => {\n    if (rolesCache.length === 0 || applicationsCache.length === 0) {\n      apiInstance\n        .get(\n          `${API_BASE}/roles/?limit=9999&order_by=display_name&add_fields=groups_in_count`,\n          { headers: { Accept: 'application/json' } }\n        )\n        .then(({ data }) => {\n          data.forEach((role) => {\n            role.isExpanded = false;\n            role.permissions = role.accessCount;\n          });\n          rolesCache = data.map((role) => Object.assign({}, role));\n          setRows(data);\n\n          // Build application filter from data\n          const apps = Array.from(\n            data\n              .map((role) => role.applications)\n              .flat()\n              .reduce((acc, cur) => {\n                acc.add(cur);\n                return acc;\n              }, new Set())\n          ).sort();\n          applicationsCache = apps;\n          setApplications(apps);\n        })\n        .catch((err) =>\n          dispatch(\n            addNotification({\n              variant: 'danger',\n              title: 'Could not fetch roles list',\n              description: err.message,\n            })\n          )\n        );\n    }\n  }, []);\n\n  // Sorting\n  const [activeSortIndex, setActiveSortIndex] = React.useState('name');\n  const [activeSortDirection, setActiveSortDirection] = React.useState('asc');\n  const onSort = (_ev, index, direction) => {\n    setActiveSortIndex(index);\n    setActiveSortDirection(direction);\n  };\n\n  // Filtering\n  const [isDropdownOpen, setIsDropdownOpen] = React.useState(false);\n  const [filterColumn, setFilterColumn] = React.useState(columns[0]);\n  const [isSelectOpen, setIsSelectOpen] = React.useState(false);\n  const [appSelections, setAppSelections] = React.useState([]);\n  const [nameFilter, setNameFilter] = React.useState('');\n  const hasFilters = appSelections.length > 0 || nameFilter;\n  const selectLabelId = 'filter-application';\n  const selectPlaceholder = 'Filter by application';\n\n  const selectedNames = selectedRoles.map((role) => role.display_name);\n  const filteredRows = rows\n    .filter((row) =>\n      appSelections.length > 0\n        ? row.applications.find((app) => appSelections.includes(app))\n        : true\n    )\n    .filter((row) => row.name.toLowerCase().includes(nameFilter))\n    .filter((row) =>\n      isReadOnly ? selectedNames.includes(row.display_name) : true\n    );\n\n  // Pagination\n  const [page, setPage] = React.useState(1);\n  const [perPage, setPerPage] = React.useState(10);\n  const AccessRequestsPagination = ({ id }) => (\n    <Pagination\n      itemCount={filteredRows.length}\n      perPage={perPage}\n      page={page}\n      onSetPage={(_ev, pageNumber) => setPage(pageNumber)}\n      id={'access-requests-roles-table-pagination-' + id}\n      variant={id}\n      onPerPageSelect={(_ev, perPage) => {\n        setPage(1);\n        setPerPage(perPage);\n      }}\n      isCompact={id === 'top'}\n    />\n  );\n  AccessRequestsPagination.propTypes = {\n    id: PropTypes.string,\n  };\n  const pagedRows = filteredRows\n    .sort((a, b) => {\n      if (typeof a[activeSortIndex] === 'number') {\n        // numeric sort\n        if (activeSortDirection === 'asc') {\n          return a[activeSortIndex] - b[activeSortIndex];\n        }\n\n        return b[activeSortIndex] - a[activeSortIndex];\n      } else {\n        // string sort\n        if (activeSortDirection === 'asc') {\n          return (a[activeSortIndex] + '').localeCompare(b[activeSortIndex]);\n        }\n\n        return (b[activeSortIndex] + '').localeCompare(a[activeSortIndex]);\n      }\n    })\n    .slice((page - 1) * perPage, page * perPage);\n\n  // Selecting\n  const [isBulkSelectOpen, setIsBulkSelectOpen] = React.useState(false);\n  const anySelected = selectedRoles.length > 0;\n  const someChecked = anySelected ? null : false;\n  const isChecked =\n    selectedRoles.length === filteredRows.length && selectedRoles.length > 0\n      ? true\n      : someChecked;\n  const onSelect = (_ev, isSelected, rowId) => {\n    const changed = pagedRows[rowId].display_name;\n    if (isSelected) {\n      setSelectedRoles(selectedRoles.concat(changed));\n    } else {\n      setSelectedRoles(selectedRoles.filter((role) => role !== changed));\n    }\n  };\n\n  const onSelectAll = (_ev, isSelected) => {\n    if (isSelected) {\n      setSelectedRoles(filteredRows.map((row) => row.display_name));\n    } else {\n      setSelectedRoles([]);\n    }\n  };\n\n  const clearFiltersButton = (\n    <Button\n      variant=\"link\"\n      onClick={() => {\n        setAppSelections([]);\n        setNameFilter('');\n      }}\n    >\n      Clear filters\n    </Button>\n  );\n  const roleToolbar = isReadOnly ? null : (\n    <Toolbar id=\"access-requests-roles-table-toolbar\">\n      <ToolbarContent>\n        <ToolbarItem>\n          <Dropdown\n            onSelect={() => setIsBulkSelectOpen(!isBulkSelectOpen)}\n            position=\"left\"\n            toggle={\n              <DropdownToggle\n                splitButtonItems={[\n                  <DropdownToggleCheckbox\n                    key=\"a\"\n                    id=\"example-checkbox-2\"\n                    aria-label={anySelected ? 'Deselect all' : 'Select all'}\n                    isChecked={isChecked}\n                    onClick={() => onSelectAll(null, !anySelected)}\n                  />,\n                ]}\n                onToggle={(isOpen) => setIsBulkSelectOpen(isOpen)}\n                isDisabled={rows.length === 0}\n              >\n                {selectedRoles.length !== 0 && (\n                  <React.Fragment>\n                    {selectedRoles.length} selected\n                  </React.Fragment>\n                )}\n              </DropdownToggle>\n            }\n            isOpen={isBulkSelectOpen}\n            dropdownItems={[\n              <DropdownItem key=\"0\" onClick={() => onSelectAll(null, false)}>\n                Select none (0 items)\n              </DropdownItem>,\n              <DropdownItem\n                key=\"1\"\n                onClick={() =>\n                  setSelectedRoles(\n                    selectedRoles.concat(pagedRows.map((r) => r.display_name))\n                  )\n                }\n              >\n                Select page ({Math.min(pagedRows.length, perPage)} items)\n              </DropdownItem>,\n              <DropdownItem key=\"2\" onClick={() => onSelectAll(null, true)}>\n                Select all ({filteredRows.length} items)\n              </DropdownItem>,\n            ]}\n          />\n        </ToolbarItem>\n        <ToolbarItem>\n          <InputGroup>\n            <Dropdown\n              isOpen={isDropdownOpen}\n              onSelect={(ev) => {\n                setIsDropdownOpen(false);\n                setFilterColumn(ev.target.value);\n                setIsSelectOpen(false);\n              }}\n              toggle={\n                <DropdownToggle\n                  onToggle={(isOpen) => setIsDropdownOpen(isOpen)}\n                >\n                  <FilterIcon /> {filterColumn}\n                </DropdownToggle>\n              }\n              dropdownItems={['Role name', 'Application'].map((colName) => (\n                // Filterable columns are RequestID, AccountID, and Status\n                <DropdownItem key={colName} value={colName} component=\"button\">\n                  {capitalize(colName)}\n                </DropdownItem>\n              ))}\n            />\n            {filterColumn === 'Application' ? (\n              <React.Fragment>\n                <span id={selectLabelId} hidden>\n                  {selectPlaceholder}\n                </span>\n                <Select\n                  aria-labelledby={selectLabelId}\n                  variant=\"checkbox\"\n                  aria-label=\"Select applications\"\n                  onToggle={(isOpen) => setIsSelectOpen(isOpen)}\n                  onSelect={(_ev, selection) => {\n                    if (appSelections.includes(selection)) {\n                      setAppSelections(\n                        appSelections.filter((s) => s !== selection)\n                      );\n                    } else {\n                      setAppSelections([...appSelections, selection]);\n                    }\n                  }}\n                  isOpen={isSelectOpen}\n                  selections={appSelections}\n                  isCheckboxSelectionBadgeHidden\n                  placeholderText={selectPlaceholder}\n                  style={{ maxHeight: '400px', overflowY: 'auto' }}\n                >\n                  {applications.map((app) => (\n                    <SelectOption key={app} value={app}>\n                      {capitalize(app.replace(/-/g, ' '))}\n                    </SelectOption>\n                  ))}\n                </Select>\n              </React.Fragment>\n            ) : (\n              <TextInput\n                name=\"rolesSearch\"\n                id=\"rolesSearch\"\n                type=\"search\"\n                iconVariant=\"search\"\n                aria-label=\"Search input\"\n                placeholder=\"Filter by role name\"\n                value={nameFilter}\n                onChange={(val) => setNameFilter(val)}\n              />\n            )}\n          </InputGroup>\n        </ToolbarItem>\n        <ToolbarItem variant=\"pagination\" align={{ default: 'alignRight' }}>\n          <AccessRequestsPagination id=\"top\" />\n        </ToolbarItem>\n      </ToolbarContent>\n      {hasFilters && (\n        <ToolbarContent>\n          {nameFilter && (\n            <ChipGroup categoryName=\"Role name\">\n              <Chip onClick={() => setNameFilter('')}>{nameFilter}</Chip>\n            </ChipGroup>\n          )}\n          {appSelections.length > 0 && (\n            <ChipGroup categoryName=\"Status\">\n              {appSelections.map((status) => (\n                <Chip\n                  key={status}\n                  onClick={() =>\n                    setAppSelections(appSelections.filter((s) => s !== status))\n                  }\n                >\n                  {status}\n                </Chip>\n              ))}\n            </ChipGroup>\n          )}\n          {clearFiltersButton}\n        </ToolbarContent>\n      )}\n    </Toolbar>\n  );\n\n  const expandedColumns = ['Application', 'Resource type', 'Operation'];\n  const dispatch = useDispatch();\n  const onExpand = (row) => {\n    row.isExpanded = !row.isExpanded;\n    setRows([...rows]);\n    if (!row.access) {\n      apiInstance\n        .get(`${API_BASE}/roles/${row.uuid}/`, {\n          headers: { Accept: 'application/json' },\n        })\n        .then((res) => {\n          row.access = res.access.map((a) => a.permission.split(':'));\n          setRows([...rows]);\n        })\n        .catch((err) =>\n          dispatch(\n            addNotification({\n              variant: 'danger',\n              title: `Could not fetch permission list for ${row.name}.`,\n              description: err.message,\n            })\n          )\n        );\n    }\n  };\n  const roleTable = (\n    <TableComposable aria-label=\"My user access roles\" variant=\"compact\">\n      <Thead>\n        <Tr>\n          {!isReadOnly && <Th />}\n          <Th\n            width={30}\n            sort={{\n              sortBy: {\n                index: activeSortIndex,\n                direction: activeSortDirection,\n              },\n              onSort,\n              columnIndex: 'name',\n            }}\n          >\n            {columns[0]}\n          </Th>\n          <Th\n            width={50}\n            sort={{\n              sortBy: {\n                index: activeSortIndex,\n                direction: activeSortDirection,\n              },\n              onSort,\n              columnIndex: 'description',\n            }}\n          >\n            {columns[1]}\n          </Th>\n          <Th\n            width={10}\n            sort={{\n              sortBy: {\n                index: activeSortIndex,\n                direction: activeSortDirection,\n              },\n              onSort,\n              columnIndex: 'permissions',\n            }}\n            modifier=\"nowrap\"\n          >\n            {columns[2]}\n          </Th>\n        </Tr>\n      </Thead>\n      {rows.length === 0 &&\n        [...Array(perPage).keys()].map((i) => (\n          <Tbody key={i}>\n            <Tr>\n              {!isReadOnly && <Td />}\n              {columns.map((col, key) => (\n                <Td dataLabel={col} key={key}>\n                  <div\n                    style={{ height: '22px' }}\n                    className=\"ins-c-skeleton ins-c-skeleton__md\"\n                  >\n                    {' '}\n                  </div>\n                </Td>\n              ))}\n            </Tr>\n          </Tbody>\n        ))}\n      {pagedRows.map((row, rowIndex) => (\n        <Tbody key={rowIndex}>\n          <Tr>\n            {!isReadOnly && (\n              <Td\n                select={{\n                  rowIndex,\n                  onSelect,\n                  isSelected: selectedRoles.find((r) => r === row.display_name),\n                }}\n              />\n            )}\n            <Td dataLabel={columns[0]}>{row.display_name}</Td>\n            <Td dataLabel={columns[1]} className=\"pf-m-truncate\">\n              <Tooltip entryDelay={1000} content={row.description}>\n                <span className=\"pf-m-truncate pf-c-table__text\">\n                  {row.description}\n                </span>\n              </Tooltip>\n            </Td>\n            <Td\n              dataLabel={columns[2]}\n              className={css(\n                'pf-c-table__compound-expansion-toggle',\n                row.isExpanded && 'pf-m-expanded'\n              )}\n            >\n              <button\n                type=\"button\"\n                className=\"pf-c-table__button\"\n                onClick={() => onExpand(row)}\n              >\n                {row.permissions}\n              </button>\n            </Td>\n          </Tr>\n          <Tr isExpanded={row.isExpanded} borders={false}>\n            {!isReadOnly && <Td />}\n            <Td className=\"pf-u-p-0\" colSpan={3}>\n              <TableComposable isCompact className=\"pf-m-no-border-rows\">\n                <Thead>\n                  <Tr>\n                    {expandedColumns.map((col) => (\n                      <Th key={col}>{col}</Th>\n                    ))}\n                  </Tr>\n                </Thead>\n                <Tbody>\n                  {Array.isArray(row.access)\n                    ? row.access.map((permissions) => (\n                        <Tr key={permissions.join(':')}>\n                          <Td dataLabel={expandedColumns[0]}>\n                            {permissions[0]}\n                          </Td>\n                          <Td dataLabel={expandedColumns[1]}>\n                            {permissions[1]}\n                          </Td>\n                          <Td dataLabel={expandedColumns[2]}>\n                            {permissions[2]}\n                          </Td>\n                        </Tr>\n                      ))\n                    : [...Array(row.permissions).keys()].map((i) => (\n                        <Tr key={i}>\n                          {expandedColumns.map((val) => (\n                            <Td key={val} dataLabel={val}>\n                              <div\n                                style={{ height: '22px' }}\n                                className=\"ins-c-skeleton ins-c-skeleton__sm\"\n                              >\n                                {' '}\n                              </div>\n                            </Td>\n                          ))}\n                        </Tr>\n                      ))}\n                </Tbody>\n              </TableComposable>\n            </Td>\n          </Tr>\n        </Tbody>\n      ))}\n      {pagedRows.length === 0 && hasFilters && (\n        <Tr>\n          <Td colSpan={columns.length}>\n            <EmptyState variant=\"small\">\n              <EmptyStateIcon icon={SearchIcon} />\n              <Title headingLevel=\"h2\" size=\"lg\">\n                No matching requests found\n              </Title>\n              <EmptyStateBody>\n                No results match the filter criteria. Remove all filters or\n                clear all filters to show results.\n              </EmptyStateBody>\n              {clearFiltersButton}\n            </EmptyState>\n          </Td>\n        </Tr>\n      )}\n    </TableComposable>\n  );\n\n  return (\n    <React.Fragment>\n      {!isReadOnly && (\n        <React.Fragment>\n          <Title headingLevel=\"h2\">Select roles</Title>\n          <p>Select the roles you would like access to.</p>\n        </React.Fragment>\n      )}\n      {roleToolbar}\n      {roleTable}\n      {isReadOnly && <AccessRequestsPagination id=\"bottom\" />}\n    </React.Fragment>\n  );\n};\n\nMUARolesTable.propTypes = {\n  roles: PropTypes.any,\n  setRoles: PropTypes.any,\n};\n\nexport default MUARolesTable;\n","import axios from 'axios';\nimport {\n  authInterceptor,\n  responseDataInterceptor,\n  interceptor401,\n  interceptor500,\n  errorInterceptor,\n} from '@redhat-cloud-services/frontend-components-utilities/interceptors';\nimport registry from '../store';\nimport { API_ERROR } from '../Redux/action-types';\n\nconst interceptor403 = (error) => {\n  const store = registry.getStore();\n  if (error.response && error.response.status === 403) {\n    store.dispatch({ type: API_ERROR, payload: 403 });\n  }\n\n  throw error;\n};\n\nconst apiInstance = axios.create();\napiInstance.interceptors.request.use(authInterceptor);\napiInstance.interceptors.response.use(responseDataInterceptor);\n\napiInstance.interceptors.response.use(null, interceptor401);\napiInstance.interceptors.response.use(null, interceptor403);\napiInstance.interceptors.response.use(null, interceptor500);\napiInstance.interceptors.response.use(null, errorInterceptor);\n\nexport default apiInstance;\n","import React from 'react';\nimport { Button, Label } from '@patternfly/react-core';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { getLabelProps } from './getLabelProps';\nimport EditAltIcon from '@patternfly/react-icons/dist/js/icons/edit-alt-icon';\nimport { capitalize } from '@patternfly/react-core/dist/esm/helpers/util';\nimport PropTypes from 'prop-types';\nimport apiInstance from './apiInstance';\n\nexport function getInternalActions(status, requestId, setOpenModal) {\n  const items = [];\n  if (status === 'pending') {\n    items.push({\n      title: 'Edit',\n      onClick: () => setOpenModal({ type: 'edit', requestId }),\n    });\n    items.push({\n      title: 'Cancel',\n      onClick: () => setOpenModal({ type: 'cancel', requestId }),\n    });\n  }\n\n  return { items, disable: items.length === 0 };\n}\n\n// https://marvelapp.com/prototype/257je526/screen/74764732\nexport function StatusLabel({ requestId, status: statusProp, hideActions }) {\n  const [status, setStatus] = React.useState(statusProp);\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const dispatch = useDispatch();\n\n  function onClick(newStatus) {\n    setIsLoading(true);\n    apiInstance\n      .patch(\n        `${API_BASE}/cross-account-requests/${requestId}/`,\n        { status: newStatus },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n          },\n        }\n      )\n      .then((res) => {\n        if (res.errors && res.errors.length > 0) {\n          throw Error(res.errors.map((e) => e.detail).join('\\n'));\n        }\n        dispatch(\n          addNotification({\n            variant: 'success',\n            title: `Request ${newStatus} successfully`,\n          })\n        );\n        setStatus(newStatus);\n        setIsEditing(false);\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        dispatch(\n          addNotification({\n            variant: 'danger',\n            title: `There was an error ${\n              newStatus === 'approved' ? 'approving' : 'denying'\n            } your request`,\n            description: err.message,\n          })\n        );\n        setIsLoading(false);\n      });\n  }\n\n  const label = <Label {...getLabelProps(status)}>{capitalize(status)}</Label>;\n\n  // For internal view\n  if (hideActions) {\n    return label;\n  }\n\n  return (\n    <React.Fragment>\n      {isEditing || status === 'pending' ? (\n        <React.Fragment>\n          <Button\n            className=\"pf-u-mr-md\"\n            isDisabled={isLoading || status === 'approved'}\n            variant=\"primary\"\n            onClick={() => onClick('approved')}\n          >\n            Approve\n          </Button>\n          <Button\n            className=\"pf-u-mr-md\"\n            isDisabled={isLoading || status === 'denied'}\n            variant=\"danger\"\n            onClick={() => onClick('denied')}\n          >\n            Deny\n          </Button>\n        </React.Fragment>\n      ) : (\n        label\n      )}\n      {['approved', 'denied'].includes(status) && (\n        <Button\n          variant=\"plain\"\n          aria-label=\"Edit status\"\n          onClick={() => setIsEditing(!isEditing)}\n        >\n          <EditAltIcon />\n        </Button>\n      )}\n    </React.Fragment>\n  );\n}\n\nStatusLabel.propTypes = {\n  requestId: PropTypes.string,\n  status: PropTypes.any,\n  hideActions: PropTypes.any,\n};\n","import React from 'react';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport ExclamationCircleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-circle-icon';\nimport ErrorCircleOIcon from '@patternfly/react-icons/dist/js/icons/error-circle-o-icon';\nimport PendingIcon from '@patternfly/react-icons/dist/js/icons/in-progress-icon';\nimport ClockIcon from '@patternfly/react-icons/dist/js/icons/history-icon';\n\nexport function getLabelProps(status) {\n  let color = null;\n  let icon = null;\n  if (status === 'pending') {\n    color = 'blue';\n    icon = <PendingIcon />;\n  } else if (status === 'approved') {\n    color = 'green';\n    icon = <CheckCircleIcon />;\n  } else if (status === 'denied') {\n    color = 'red';\n    icon = <ExclamationCircleIcon />;\n  } else if (status === 'cancelled') {\n    color = 'orange';\n    icon = <ErrorCircleOIcon />;\n  } else if (status === 'expired') {\n    color = 'grey';\n    icon = <ClockIcon />;\n  }\n\n  return { color, icon };\n}\n"],"names":["CancelRequestModal","requestId","onClose","React","isLoading","setIsLoading","dispatch","useDispatch","Modal","title","isOpen","variant","actions","Button","key","onClick","apiInstance","API_BASE","status","headers","Accept","then","res","errors","length","Error","map","e","detail","join","addNotification","err","description","message","Spinner","size","propTypes","PropTypes","nameHelperText","helperTexts","invalidAccountTitle","getLabelIcon","field","Popover","bodyContent","type","preventDefault","className","noVerticalAlign","today","Date","setDate","getDate","maxStartDate","dateFormat","date","toLocaleDateString","year","month","day","dateParse","split","padStart","RequestDetailsForm","user","targetAccount","setTargetAccount","targetOrg","setTargetOrg","start","setStart","end","setEnd","disableAccount","disableOrgId","error","startDate","setStartDate","validatedAccount","setValidatedAccount","validatedOrgId","setValidatedOrgId","startValidator","isValidDate","endValidator","maxToDate","setFullYear","getFullYear","Form","onSubmit","ev","isDisabled","Title","headingLevel","Split","hasGutter","SplitItem","isFilled","FormGroup","label","labelIcon","TextInput","id","value","first_name","last_name","isRequired","helperText","helperTextInvalid","validated","onChange","val","placeholder","DatePicker","width","str","validators","style","padding","rangeStart","spaceUnderStyle","paddingBottom","ReviewStep","roles","content","EmptyState","EmptyStateIcon","icon","context","WizardContextConsumer","ExclamationCircleIcon","color","EmptyStateBody","goToStepById","paddingRight","slice","role","EditRequestModal","isEdit","setError","setUser","setRoles","warnClose","setWarnClose","step","setStep","isDirty","Boolean","userPromise","window","insights","chrome","auth","getUser","detailsPromise","Promise","all","details","identity","target_account","start_date","end_date","display_name","org_id","step1Complete","every","step2Complete","steps","name","component","enableNext","canJumpTo","nextButtonText","titleId","descriptionId","height","showClose","hasNoBodyWrapper","Wizard","capitalize","onSave","body","request_id","isInvalidAccount","test","startAtStep","onNext","onBack","onGoToStep","titleIconVariant","rolesCache","applicationsCache","MUARolesTable","selectedRoles","setSelectedRoles","isReadOnly","undefined","columns","Array","from","rows","setRows","applications","setApplications","data","forEach","isExpanded","permissions","accessCount","Object","assign","apps","flat","reduce","acc","cur","add","Set","sort","activeSortIndex","setActiveSortIndex","activeSortDirection","setActiveSortDirection","onSort","_ev","index","direction","isDropdownOpen","setIsDropdownOpen","filterColumn","setFilterColumn","isSelectOpen","setIsSelectOpen","appSelections","setAppSelections","nameFilter","setNameFilter","hasFilters","selectLabelId","selectPlaceholder","selectedNames","filteredRows","filter","row","find","app","includes","toLowerCase","page","setPage","perPage","setPerPage","AccessRequestsPagination","Pagination","itemCount","onSetPage","pageNumber","onPerPageSelect","isCompact","pagedRows","a","b","localeCompare","isBulkSelectOpen","setIsBulkSelectOpen","anySelected","someChecked","isChecked","onSelect","isSelected","rowId","changed","concat","onSelectAll","clearFiltersButton","roleToolbar","Toolbar","ToolbarContent","ToolbarItem","Dropdown","position","toggle","DropdownToggle","splitButtonItems","DropdownToggleCheckbox","onToggle","dropdownItems","DropdownItem","r","Math","min","InputGroup","target","colName","hidden","Select","selection","s","selections","isCheckboxSelectionBadgeHidden","placeholderText","maxHeight","overflowY","SelectOption","replace","iconVariant","align","default","ChipGroup","categoryName","Chip","expandedColumns","roleTable","TableComposable","Thead","Tr","Th","sortBy","columnIndex","modifier","keys","i","Tbody","Td","col","dataLabel","rowIndex","select","Tooltip","entryDelay","css","access","uuid","permission","onExpand","borders","colSpan","isArray","SearchIcon","axios","interceptors","request","use","authInterceptor","response","responseDataInterceptor","interceptor401","store","registry","API_ERROR","payload","interceptor500","errorInterceptor","getInternalActions","setOpenModal","items","push","disable","StatusLabel","statusProp","hideActions","setStatus","isEditing","setIsEditing","newStatus","Label","getLabelProps"],"sourceRoot":""}