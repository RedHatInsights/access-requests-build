(self.webpackChunk_redhat_cloud_services_access_requests_frontend=self.webpackChunk_redhat_cloud_services_access_requests_frontend||[]).push([[20],{51020:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>w});var n=l(6479),r=l.n(n),a=l(67154),c=l.n(a),s=l(319),u=l.n(s),i=l(63038),m=l.n(i),o=l(49661),d=l.n(o),E=l(4092),g=l(80164),f=l(334),p=l(12167),h=l(83215),b=l(31643),_=l(17733),v=l(42863),I=l(76710),q=l(42027),x=l(45697),y=l.n(x),C=function(e){var t=e.isInternal,l=e.baseUrl,n=d().useState(),r=m()(n,2),a=r[0],s=r[1],i=(0,f.useParams)().requestId,o=(0,p.useDispatch)();d().useEffect((function(){fetch("".concat("/api/rbac/v1","/cross-account-requests/").concat(i,"/")).then((function(e){return e.json()})).then((function(e){if(e.errors)throw Error(e.errors.map((function(e){return e.detail})).join("\n"));s(e)})).catch((function(e){o((0,h.wN)({variant:"danger",title:"Could not load access request",description:e.message}))}))}),[]);var x=d().useState({type:null}),y=m()(x,2),C=y[0],S=y[1],w=function(){return S({type:null})},k=(0,q.m)(a&&a.status,i,S),R=d().useState(!1),F=m()(R,2),T=F[0],L=F[1],z=[].concat(u()(t?["request_id","target_account"]:["first_name","last_name"]),["start_date","end_date","created"]);return d().createElement(d().Fragment,null,d().createElement(E.PageSection,{variant:"light"},d().createElement(E.Breadcrumb,null,d().createElement(E.BreadcrumbItem,{render:function(){return d().createElement(f.Link,{to:l},!t&&"Red Hat ","Access Requests")}}),d().createElement(E.BreadcrumbItem,null,i)),d().createElement(E.Flex,{direction:{default:"column",md:"row"}},d().createElement(E.FlexItem,{grow:{default:"grow"}},d().createElement(E.Title,{headingLevel:"h1",size:"2xl",className:"pf-u-pt-md"},i)),t&&k.items.length>0&&d().createElement(E.FlexItem,{alignSelf:{default:"alignRight"}},d().createElement(E.Dropdown,{position:"right",toggle:d().createElement(E.KebabToggle,{onToggle:function(){return L(!T)},id:"actions-toggle"}),isOpen:T,isPlain:!0,dropdownItems:k.items.map((function(e){var t=e.title,l=e.onClick;return d().createElement(E.DropdownItem,{key:t,component:"button",onClick:l},t)})),isDisabled:k.disable})))),d().createElement(E.PageSection,null,d().createElement(E.Flex,{spaceItems:{xl:"spaceItemsLg"},direction:{default:"column",lg:"row"}},d().createElement(E.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},d().createElement(E.Card,{ouiaId:"request-details",style:{height:"100%"}},d().createElement(E.CardTitle,null,d().createElement(E.Title,{headingLevel:"h2",size:"xl"},"Request details")),d().createElement(E.CardBody,null,a?d().createElement(d().Fragment,null,d().createElement("div",{className:"pf-u-pb-md"},t?d().createElement("div",null,d().createElement("label",null,d().createElement("b",null,"Request status")),d().createElement("br",null),d().createElement(E.Label,c()({className:"pf-u-mt-sm"},(0,I.Q)(a.status)),(0,g.kC)(a.status))):d().createElement(d().Fragment,null,d().createElement("label",null,d().createElement("b",null,"Request decision")),d().createElement("br",null),d().createElement(q.p,{requestId:i,status:a.status}))),z.map((function(e,t){return d().createElement("div",{className:"pf-u-pb-md",key:t},d().createElement("label",null,d().createElement("b",null,(0,g.kC)(e.replace(/_/g," ").replace("id","ID")))),d().createElement("br",null),d().createElement("div",null,a[e]))}))):d().createElement(E.Spinner,{size:"xl"})))),d().createElement(E.FlexItem,{flex:{default:"flex_3"},grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},d().createElement(E.Card,{ouiaId:"request-roles",style:{height:"100%"}},d().createElement(E.CardTitle,null,d().createElement(E.Title,{headingLevel:"h2",size:"xl"},"Roles requested")),d().createElement(E.CardBody,null,a?d().createElement(b.Z,{roles:a.roles}):d().createElement(E.Spinner,{size:"xl"})))))),"cancel"===C.type&&d().createElement(_.Z,{requestId:i,onClose:w}),"edit"===C.type&&d().createElement(v.Z,{variant:"edit",requestId:i,onClose:w}))},S=function(e){var t=e.getRegistry,l=r()(e,["getRegistry"]);return d().createElement(p.Provider,{store:t().getStore()},d().createElement(C,l))};S.propTypes={getRegistry:y().func},C.propTypes={isInternal:y().bool,baseUrl:y().string};const w=S}}]);
//# sourceMappingURL=../sourcemaps/20.f8cb89b005ad5328db40.js.map