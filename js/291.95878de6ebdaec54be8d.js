(self.webpackChunkaccessRequests=self.webpackChunkaccessRequests||[]).push([[291],{46372:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var l=a(28416),n=a.n(l),r=a(80164),s=a(65353);a(58392);const c="pf-m-current";var i=a(38296),m=a(62472);const u=e=>{var{children:t=null,className:a="","aria-label":n="Breadcrumb",ouiaId:r,ouiaSafe:c=!0}=e,o=(0,s.__rest)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const d=(0,m.S$)(u.displayName,r,c);return l.createElement("nav",Object.assign({},o,{"aria-label":n,className:(0,i.i)("pf-v5-c-breadcrumb",a)},d),l.createElement("ol",{className:"pf-v5-c-breadcrumb__list",role:"list"},l.Children.map(t,((e,t)=>{const a=t>0;return l.isValidElement(e)?l.cloneElement(e,{showDivider:a}):e}))))};u.displayName="Breadcrumb";var o=a(93174);const d=e=>{var{children:t=null,className:a="",to:n,isActive:r=!1,isDropdown:m=!1,showDivider:u,target:d,component:E="a",render:p}=e,g=(0,s.__rest)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const b=E,f=r?"page":void 0,v=(0,i.i)("pf-v5-c-breadcrumb__link",r&&c);return l.createElement("li",Object.assign({},g,{className:(0,i.i)("pf-v5-c-breadcrumb__item",a)}),u&&l.createElement("span",{className:"pf-v5-c-breadcrumb__item-divider"},l.createElement(o.ZP,null)),"button"===E&&l.createElement("button",{className:v,"aria-current":f,type:"button"},t),m&&l.createElement("span",{className:(0,i.i)("pf-v5-c-breadcrumb__dropdown")},t),p&&p({className:v,ariaCurrent:f}),n&&!p&&l.createElement(b,{href:n,target:d,className:v,"aria-current":f},t),!n&&"button"!==E&&!m&&t)};d.displayName="BreadcrumbItem";var E=a(72853),p=a(38779),g=a(32203),b=a(54918);const f=e=>{var{children:t,className:a,component:n="div"}=e,r=(0,s.__rest)(e,["children","className","component"]);const{cardId:c,registerTitleId:m}=l.useContext(g.H),u=n,o=c?`${c}-title`:"";return l.useEffect((()=>(m(o),()=>m(""))),[m,o]),l.createElement("div",{className:(0,i.i)(b.Z.cardTitle)},l.createElement(u,Object.assign({className:(0,i.i)(b.Z.cardTitleText,a),id:o||void 0},r),t))};f.displayName="CardTitle";var v=a(62394),h=a(28191),_=a(92298),N=a(37619),y=a(82371),I=a(79332),q=a(62165),w=a(75587);const R=e=>{var{id:t="",children:a=null,className:n="",isOpen:r=!1,"aria-label":c="Actions",parentRef:i=null,getMenuRef:m=null,isActive:u=!1,isPlain:o=!1,isDisabled:d=!1,bubbleEvent:E=!1,onToggle:p=(()=>{}),ref:g}=e,b=(0,s.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return l.createElement(w.Z,Object.assign({id:t,className:n,isOpen:r,"aria-label":c,parentRef:i,getMenuRef:m,isActive:u,isPlain:o,isDisabled:d,onToggle:p,bubbleEvent:E},b),l.createElement(q.ZP,null))};R.displayName="KebabToggle";var k=a(85044),C=a(62012),S=a(39704),x=a(83215),D=a(1807),T=a(69112),Z=a(88220),P=a(22342),A=a(49229),O=a(70910),B=a(45697),j=a.n(B),z=a(43598);const L=({isInternal:e})=>{const[t,a]=n().useState(),{requestId:l}=(0,C.useParams)(),s=(0,S.I0)();n().useEffect((()=>{z.Z.get(`/api/rbac/v1/cross-account-requests/${l}/${e?"?query_by=user_id":"?query_by=target_org"}`,{headers:{Accept:"application/json"}}).then((e=>{if(e.errors)throw Error(e.errors.map((e=>e.detail)).join("\n"));a(e)})).catch((e=>{s((0,x.wN)({variant:"danger",title:"Could not load access request",description:e.message}))}))}),[]);const[c,i]=n().useState({type:null}),m=()=>i({type:null}),o=(0,O.m)(t&&t.status,l,i),[b,q]=n().useState(!1),w=[...e?["request_id","target_account","target_org"]:["first_name","last_name"],"start_date","end_date","created"];return n().createElement(n().Fragment,null,n().createElement(E.NP,{variant:"light"},n().createElement(u,null,n().createElement(d,{render:()=>n().createElement(C.Link,{to:".."},!e&&"Red Hat ","Access Requests")}),n().createElement(d,null,l)),n().createElement(h.k,{direction:{default:"column",md:"row"}},n().createElement(_.B,{grow:{default:"grow"}},n().createElement(p.D,{headingLevel:"h1",size:"2xl",className:"pf-v5-u-pt-md"},l)),e&&o.items.length>0&&n().createElement(_.B,{alignSelf:{default:"alignRight"}},n().createElement(I.L,{position:"right",toggle:n().createElement(R,{onToggle:()=>q(!b),id:"actions-toggle"}),isOpen:b,isPlain:!0,dropdownItems:o.items.map((({title:e,onClick:t})=>n().createElement(k.h,{key:e,component:"button",onClick:t},e))),isDisabled:o.disable})))),n().createElement(E.NP,null,n().createElement(h.k,{spaceItems:{xl:"spaceItemsLg"},direction:{default:"column",lg:"row"}},n().createElement(_.B,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},n().createElement(g.Z,{ouiaId:"request-details",style:{height:"100%"}},n().createElement(f,null,n().createElement(p.D,{headingLevel:"h2",size:"xl"},"Request details")),n().createElement(v.e,null,t?n().createElement(n().Fragment,null,n().createElement("div",{className:"pf-v5-u-pb-md"},e?n().createElement("div",null,n().createElement("label",null,n().createElement("b",null,"Request status")),n().createElement("br",null),n().createElement(y._,{className:"pf-v5-u-mt-sm",...(0,A.Q)(t.status)},(0,r.kC)(t.status))):n().createElement(n().Fragment,null,n().createElement("label",null,n().createElement("b",null,"Request decision")),n().createElement("br",null),n().createElement(O.p,{requestId:l,status:t.status}))),w.map(((e,a)=>n().createElement("div",{className:"pf-v5-u-pb-md",key:a},n().createElement("label",null,n().createElement("b",null,(0,r.kC)(e.replace(/_/g," ").replace("id","ID")))),n().createElement("br",null),n().createElement("div",null,t[e]))))):n().createElement(N.$,{size:"xl"})))),n().createElement(_.B,{flex:{default:"flex_3"},grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},n().createElement(g.Z,{ouiaId:"request-roles",style:{height:"100%"}},n().createElement(f,null,n().createElement(p.D,{headingLevel:"h2",size:"xl"},"Roles requested")),n().createElement(v.e,null,t?n().createElement(D.Z,{roles:t.roles}):n().createElement(N.$,{size:"xl"})))))),"cancel"===c.type&&n().createElement(Z.Z,{requestId:l,onClose:m}),"edit"===c.type&&n().createElement(P.Z,{variant:"edit",requestId:l,onClose:m}))},$=e=>{const{getRegistry:t}=(0,l.useContext)(T.g);return n().createElement(S.zt,{store:t().getStore()},n().createElement(L,{isInternal:e?.isInternal}))};$.propTypes={getRegistry:j().func,isInternal:j().bool},L.propTypes={isInternal:j().bool};const F=$},58392:()=>{}}]);
//# sourceMappingURL=../sourcemaps/291.a7b118005cd5b90aec4547fac0da9da1.js.map