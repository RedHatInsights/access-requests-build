(self.webpackChunkaccess_requests_frontend=self.webpackChunkaccess_requests_frontend||[]).push([[73],{6880:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ye});var n=a(3297),r=a.n(n),o=a(5399),i=a(9572),l=a(4348),c=a(319),s=a.n(c),u=a(3038),d=a.n(u),m=a(3218),p=a(1926),f=a(9505),y=a(7451),b=a(6202),g=a(3861),E=a(2282),h=a(3877),C=a(2910),T=a(765),v=a(6823),S=a(887),w=a(7221),Z=a(222),k=a(8089),_=a(2752),I=a(8826),A=function(e){var t=e.requestId,a=e.onClose;return r().createElement(I.Modal,{title:"Cancel request?",isOpen:!0,onClose:a,actions:[r().createElement(b.Button,{key:"confirm",variant:"danger",onClick:a},"Yes, cancel"),r().createElement(b.Button,{key:"cancel",variant:"link",onClick:a},"No, keep")]},"Request ",r().createElement("b",null,t)," will be withdrawn.")};A.displayName="CancelRequestModal";const P=A;var x=a(5787),D=a(4853),q=a(3811),R=a(1552),F=a(1508),B=a(149),N=a(2679),L=a(4046),M=a(5412);const O=[{uuid:"d36b3088-55b4-4360-8d10-c85acdc4fd0f",name:"Insights administrator",display_name:"Advisor administrator",description:"Perform any available operation against any advisor resource.",created:"2021-01-07T20:37:46.550671Z",modified:"2021-01-07T20:37:46.557273Z",policyCount:1,accessCount:2,applications:["inventory","advisor"],system:!0,platform_default:!0},{uuid:"2f567b6a-010a-403e-a529-d19346259d29",name:"Approval Administrator",display_name:"Approval Administrator",description:"An approval administrator role that grants permissions to manage workflows, requests, actions, and templates.",created:"2021-01-07T20:37:45.804521Z",modified:"2021-01-07T20:37:45.805423Z",policyCount:0,accessCount:11,applications:["approval"],system:!0,platform_default:!1},{uuid:"243b26b3-fa51-482e-81e5-e561f6c39b58",name:"Approval Approver",display_name:"Approval Approver",description:"An approval approver role that grants permissions to read and approve requests.",created:"2021-01-07T20:37:46.023017Z",modified:"2021-01-07T20:37:46.024004Z",policyCount:0,accessCount:3,applications:["approval"],system:!0,platform_default:!1},{uuid:"ce6380bf-b6ee-4cbb-b373-7939b11c5bfc",name:"Approval User",display_name:"Approval User",description:"An approval user role which grants permissions to create/read/cancel a request, and read workflows.",created:"2021-01-07T20:37:45.954546Z",modified:"2021-01-07T20:37:45.955495Z",policyCount:1,accessCount:5,applications:["approval"],system:!0,platform_default:!0},{uuid:"f40ae207-8ad0-4c3b-a9a8-9f35507b6385",name:"Catalog Administrator",display_name:"Catalog Administrator",description:"A catalog administrator roles grants create,read,update, delete and order permissions",created:"2021-01-07T20:37:46.068280Z",modified:"2021-01-07T20:37:46.069210Z",policyCount:0,accessCount:28,applications:["catalog"],system:!0,platform_default:!1},{uuid:"1afbbb3b-246e-4234-8be4-97a08fc08cf5",name:"Catalog User",display_name:"Catalog User",description:"A catalog user roles grants read and order permissions",created:"2021-01-07T20:37:46.390765Z",modified:"2021-01-07T20:37:46.391763Z",policyCount:1,accessCount:15,applications:["catalog"],system:!0,platform_default:!0},{uuid:"f0b212ed-1d3e-4498-b1ca-47b6743ac7d6",name:"Compliance administrator",display_name:"Compliance administrator",description:"Perform any available operation against any Compliance resource.",created:"2021-01-07T20:37:46.668492Z",modified:"2021-01-07T20:37:46.669446Z",policyCount:1,accessCount:2,applications:["compliance","inventory"],system:!0,platform_default:!0},{uuid:"23589904-25fb-4270-82f1-e48ccd117ead",name:"Cost Administrator",display_name:"Cost Administrator",description:"A cost management administrator role that grants read and write permissions.",created:"2021-01-07T20:37:45.612640Z",modified:"2021-01-07T20:37:45.613553Z",policyCount:0,accessCount:1,applications:["cost-management"],system:!0,platform_default:!1},{uuid:"61c9395d-ed5b-4e47-9ad2-dd3e7e6b8d8a",name:"Cost Cloud Viewer",display_name:"Cost Cloud Viewer",description:"A cost management role that grants read permissions on cost reports related to cloud sources.",created:"2021-01-07T20:37:45.668118Z",modified:"2021-01-07T20:37:45.669028Z",policyCount:0,accessCount:3,applications:["cost-management"],system:!0,platform_default:!1},{uuid:"a7cac665-cb4a-4de6-8253-f7a78be9d535",name:"Cost OpenShift Viewer",display_name:"Cost OpenShift Viewer",description:"A cost management role that grants read permissions on cost reports related to OpenShift sources.",created:"2021-01-07T20:37:45.698657Z",modified:"2021-01-07T20:37:45.699565Z",policyCount:0,accessCount:1,applications:["cost-management"],system:!0,platform_default:!1},{uuid:"f85bf8e0-654c-4e82-b909-978c4a9ca579",name:"Cost Price List Administrator",display_name:"Cost Price List Administrator",description:"A cost management role that grants read and write permissions on cost models.",created:"2021-01-07T20:37:45.629746Z",modified:"2021-01-07T20:37:45.630659Z",policyCount:0,accessCount:1,applications:["cost-management"],system:!0,platform_default:!1},{uuid:"a8c63801-915f-4ae0-acfb-692c52c0b69a",name:"Cost Price List Viewer",display_name:"Cost Price List Viewer",description:"A cost management role that grants read permissions on cost models.",created:"2021-01-07T20:37:45.646727Z",modified:"2021-01-07T20:37:45.647684Z",policyCount:0,accessCount:1,applications:["cost-management"],system:!0,platform_default:!1},{uuid:"0d12e4c2-b201-4527-952c-ba62764f4bad",name:"Drift analysis administrator",display_name:"Drift analysis administrator",description:"Perform any available operation against any Drift Analysis resource.",created:"2021-01-07T20:37:45.780455Z",modified:"2021-01-07T20:37:45.781365Z",policyCount:1,accessCount:2,applications:["inventory","drift"],system:!0,platform_default:!0},{uuid:"166c6515-6b41-4d7c-ac2a-ae7be15891d5",name:"Inventory administrator",display_name:"Inventory administrator",description:"Perform any available operation against any Inventory resource.",created:"2021-01-07T20:37:46.692541Z",modified:"2021-01-07T20:37:46.693463Z",policyCount:1,accessCount:1,applications:["inventory"],system:!0,platform_default:!0},{uuid:"2c9faecf-d856-4cdf-8594-fe56d00d4cfc",name:"Migration Analytics administrator",display_name:"Migration Analytics administrator",description:"Perform any available operation against any Migration Analytics resource.",created:"2021-01-07T20:37:46.603550Z",modified:"2021-01-07T20:37:46.604452Z",policyCount:1,accessCount:1,applications:["migration-analytics"],system:!0,platform_default:!0},{uuid:"4e1ac715-1695-4f58-a5ec-8fbbecdd4dd8",name:"Notifications administrator",display_name:"Notifications administrator",description:"Perform any available operation against Notifications and Integrations applications.",created:"2021-01-25T13:57:57.029768Z",modified:"2021-01-25T13:57:57.030690Z",policyCount:0,accessCount:2,applications:["notifications","integrations"],system:!0,platform_default:!1},{uuid:"b152b4a3-eeb3-48b0-9ee5-77ec484d17de",name:"Notifications viewer",display_name:"Notifications viewer",description:"Read only access to notifications and integrations applications.",created:"2021-01-25T13:57:57.045113Z",modified:"2021-01-25T13:57:57.045904Z",policyCount:1,accessCount:2,applications:["notifications","integrations"],system:!0,platform_default:!0},{uuid:"01cb2ed0-7dc3-40ca-9bfa-5c7dec117a19",name:"Patch administrator",display_name:"Patch administrator",description:"Perform any available operation against any Patch resource.",created:"2021-01-07T20:37:45.756506Z",modified:"2021-01-07T20:37:45.757410Z",policyCount:1,accessCount:2,applications:["patch","inventory"],system:!0,platform_default:!0},{uuid:"a3683158-0160-45d4-9314-4bd1979b2a71",name:"Policies administrator",display_name:"Policies administrator",description:"Perform any available operation against any Policies resource.",created:"2021-01-07T20:37:45.587727Z",modified:"2021-01-07T20:37:45.588677Z",policyCount:1,accessCount:2,applications:["policies","inventory"],system:!0,platform_default:!0},{uuid:"dfadd29f-5141-4859-8f41-8059943e1f46",name:"Remediations administrator",display_name:"Remediations administrator",description:"Perform any available operation against any Remediations resource",created:"2021-01-07T20:37:46.620751Z",modified:"2021-01-07T20:37:46.621737Z",policyCount:0,accessCount:2,applications:["remediations","inventory"],system:!0,platform_default:!1},{uuid:"f51b2a5e-2a44-4d0e-9287-0d872a3de3b7",name:"Remediations user",display_name:"Remediations user",description:"Perform create, view, update, delete operations against any Remediations resource.",created:"2021-01-07T20:37:46.644599Z",modified:"2021-01-07T20:37:46.645536Z",policyCount:1,accessCount:2,applications:["remediations"],system:!0,platform_default:!0},{uuid:"e6520b0f-40af-43ec-baae-804a3efddb09",name:"Sources administrator",display_name:"Sources administrator",description:"Perform any available operation against any Source",created:"2021-01-07T20:37:45.715506Z",modified:"2021-01-07T20:37:45.716410Z",policyCount:0,accessCount:1,applications:["sources"],system:!0,platform_default:!1},{uuid:"c4737d6f-734f-406c-bb38-a73d678caee4",name:"Subscription Watch administrator",display_name:"Subscription Watch administrator",description:"Perform any available operation against any Subscription Watch resource.",created:"2021-01-07T20:37:46.579885Z",modified:"2021-01-07T20:37:46.580852Z",policyCount:1,accessCount:2,applications:["inventory","subscriptions"],system:!0,platform_default:!0},{uuid:"97569ae7-be84-4f08-9165-b34d02e05d07",name:"Vulnerability administrator",display_name:"Vulnerability administrator",description:"Perform any available operation against any Vulnerability resource.",created:"2021-01-07T20:37:45.732726Z",modified:"2021-01-07T20:37:45.733647Z",policyCount:1,accessCount:2,applications:["inventory","vulnerability"],system:!0,platform_default:!0}];var V=a(8755),G=a(1070),U=a(164);O.forEach((function(e){return e.permissions=e.applications.length}));var J=Array.from(O.map((function(e){return e.applications})).flat().reduce((function(e,t){return e.add(t),e}),new Set)).sort(),W=function(e){var t=e.roles,a=e.setRoles,n=["Role name","Role description","Permissions"],o=r().useState(O),i=d()(o,2),c=i[0],u=i[1],m=r().useState("name"),I=d()(m,2),A=I[0],P=I[1],x=r().useState("asc"),D=d()(x,2),q=D[0],R=D[1],F=function(e,t,a){P(t),R(a),u(c)},B=r().useState(!1),N=d()(B,2),L=N[0],W=N[1],Y=r().useState(n[0]),H=d()(Y,2),j=H[0],z=H[1],K=r().useState(!1),Q=d()(K,2),X=Q[0],$=Q[1],ee=r().useState([]),te=d()(ee,2),ae=te[0],ne=te[1],re=r().useState(""),oe=d()(re,2),ie=oe[0],le=oe[1],ce=r().useState([]),se=d()(ce,2),ue=se[0],de=se[1],me="filter-application",pe="Filter by application",fe=c.filter((function(e){return!(ae.length>0)||e.applications.find((function(e){return ae.includes(e)}))})).filter((function(e){return!(ue.length>0)||ue.some((function(t){return e.name.toLowerCase().includes(t)}))})),ye=r().useState(1),be=d()(ye,2),ge=be[0],Ee=be[1],he=r().useState(10),Ce=d()(he,2),Te=Ce[0],ve=Ce[1],Se=function(e){var t=e.id;return r().createElement(h.Pagination,{itemCount:fe.length,perPage:Te,page:ge,onSetPage:function(e,t){return Ee(t)},id:"access-requests-roles-table-pagination-"+t,variant:t,onPerPageSelect:function(e,t){return ve(t)},isCompact:"top"===t})},we=fe.sort((function(e,t){return"number"==typeof e[A]?"asc"===q?e[A]-t[A]:t[A]-e[A]:"asc"===q?e[A].localeCompare(t[A]):t[A].localeCompare(e[A])})).slice((ge-1)*Te,ge*Te),Ze=r().useState(!1),ke=d()(Ze,2),_e=ke[0],Ie=ke[1],Ae=t.length>0,Pe=!!Ae&&null,xe=t.length===fe.length||Pe,De=function(e,n,r){if(n)a(t.concat(fe[r]));else{var o=fe[r].uuid;a(t.filter((function(e){return e.uuid!==o})))}},qe=function(e,t){a(t?s()(fe):[])};return r().createElement(r().Fragment,null,r().createElement(l.Title,{headingLevel:"h2"},"Select roles"),r().createElement(p.o,{id:"access-requests-roles-table-toolbar"},r().createElement(y.c,null,r().createElement(f.ToolbarItem,null,r().createElement(C.Dropdown,{onSelect:function(){return Ie(!_e)},position:"left",toggle:r().createElement(T.DropdownToggle,{splitButtonItems:[r().createElement(M.DropdownToggleCheckbox,{key:"a",id:"example-checkbox-2","aria-label":Ae?"Deselect all":"Select all",isChecked:xe,onClick:function(){return qe(0,!Ae)}})],onToggle:function(e){return Ie(e)}},0!==t.length&&r().createElement(r().Fragment,null,t.length," selected")),isOpen:_e,dropdownItems:[r().createElement(v.DropdownItem,{key:"0",onClick:function(){return qe(0,!1)}},"Select none (0 items)"),r().createElement(v.DropdownItem,{key:"1",onClick:function(){return a(t.concat(we))}},"Select page (",Math.min(we.length,Te)," items)"),r().createElement(v.DropdownItem,{key:"2",onClick:function(){return qe(0,!0)}},"Select all (",fe.length," items)")]})),r().createElement(f.ToolbarItem,null,r().createElement(g.InputGroup,null,r().createElement(C.Dropdown,{isOpen:L,onSelect:function(e){W(!1),z(e.target.value),$(!1)},toggle:r().createElement(T.DropdownToggle,{onToggle:function(e){return W(e)}},r().createElement(V.ZP,null)," ",j),dropdownItems:["Role name","Application"].map((function(e){return r().createElement(v.DropdownItem,{key:e,value:e,component:"button"},(0,U.kC)(e))}))}),"Application"===j?r().createElement(r().Fragment,null,r().createElement("span",{id:me,hidden:!0},pe),r().createElement(S.Select,{"aria-labelledby":me,variant:"checkbox","aria-label":"Select applications",onToggle:function(e){return $(e)},onSelect:function(e,t){ae.includes(t)?ne(ae.filter((function(e){return e!==t}))):ne([].concat(s()(ae),[t]))},isOpen:X,selections:Array.from(ae),isCheckboxSelectionBadgeHidden:!0,placeholderText:pe,style:{maxHeight:"400px",overflowY:"auto"}},J.map((function(e){return r().createElement(w.SelectOption,{key:e,value:e},(0,U.kC)(e))})))):r().createElement("form",{style:{display:"flex"},onSubmit:function(e){e.preventDefault(),de(ue.concat(ie)),le("")}},r().createElement(E.TextInput,{name:"rolesSearch",id:"rolesSearch",type:"search","aria-label":"Search input",value:ie,onChange:function(e){return le(e)}}),r().createElement(b.Button,{variant:"control",type:"submit","aria-label":"Search button for search input"},r().createElement(G.ZP,null))))),r().createElement(f.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},r().createElement(Se,{id:"top"}))),(ae.length>0||ue.length>0)&&r().createElement(y.c,null,ue.length>0&&r().createElement(Z.ChipGroup,{categoryName:"Role name"},ue.map((function(e){return r().createElement(k.Chip,{key:e,onClick:function(){return de(ue.filter((function(t){return t!==e})))}},e)}))),ae.length>0&&r().createElement(Z.ChipGroup,{categoryName:"Status"},ae.map((function(e){return r().createElement(k.Chip,{key:e,onClick:function(){return ne(ae.filter((function(t){return t!==e})))}},e)}))),(ae.length>0||ue.length>0)&&r().createElement(b.Button,{variant:"link",onClick:function(){ne([]),de([])}},"Clear filters"))),r().createElement(_.TableComposable,{"aria-label":"My user access roles",variant:"compact"},r().createElement(_.Thead,null,r().createElement(_.Tr,null,r().createElement(_.Th,null),r().createElement(_.Th,{width:30,sort:{sortBy:{index:A,direction:q},onSort:F,columnIndex:"name"}},n[0]),r().createElement(_.Th,{width:50,sort:{sortBy:{index:A,direction:q},onSort:F,columnIndex:"description"}},n[1]),r().createElement(_.Th,{width:10,sort:{sortBy:{index:A,direction:q},onSort:F,columnIndex:"permissions"},modifier:"nowrap"},n[2]))),r().createElement(_.Tbody,null,we.map((function(e,a){return r().createElement(_.Tr,{key:a},r().createElement(_.Td,{select:{rowIndex:a,onSelect:De,isSelected:t.find((function(t){return t.uuid===e.uuid}))}}),r().createElement(_.Td,{dataLabel:n[0]},e.name),r().createElement(_.Td,{dataLabel:n[1]},r().createElement(_.TableText,{wrapModifier:"truncate"},e.description)),r().createElement(_.Td,{dataLabel:n[2]},e.permissions))})))))};W.displayName="MUARolesTable";const Y=W;var H=a(3096),j=a(527),z="Customers will be able to see this information as part of your request",K={"first name":z,"last name":z,"account id":"This is the account ID(s) that you would like to receive read access to","access duration":"This is the time frame you would like to be granted read access to accounts"},Q=function(e){return r().createElement(B.Popover,{bodyContent:r().createElement("p",null,K[e])},r().createElement("button",{type:"button","aria-label":"More info for ".concat(e),onClick:function(e){return e.preventDefault()},"aria-describedby":"form-name",className:"pf-c-form__group-label-help"},r().createElement(L.ZP,{noVerticalAlign:!0})))},X=new Date;X.setDate(X.getDate()-1);var $=function(e){var t=e.user,a=void 0===t?{}:t,n=e.accountId,o=e.setAccountId,i=e.from,c=e.setFrom,s=e.to,u=e.setTo,m=e.disableAccount,p=r().useState(),f=d()(p,2),y=f[0],b=f[1];return r().createElement(D.l,null,r().createElement(l.Title,{headingLevel:"h2"},"Request details"),r().createElement(R.P,{hasGutter:!0},r().createElement(F.J,{isFilled:!0},r().createElement(q.c,{label:"First name",labelIcon:Q("first name")},r().createElement(E.TextInput,{id:"first-name",value:a.first_name,isDisabled:!0}))),r().createElement(F.J,{isFilled:!0},r().createElement(q.c,{label:"Last name",labelIcon:Q("last name")},r().createElement(E.TextInput,{id:"last-name",value:a.last_name,isDisabled:!0})))),r().createElement(q.c,{label:"Account ID",isRequired:!0,labelIcon:Q("account id"),helperText:"Enter the account ID you would like access to"},r().createElement(E.TextInput,{id:"account-id",value:n,onChange:function(e){return o(e)},isRequired:!0,placeholder:"Example, 865392",isDisabled:m})),r().createElement(q.c,{label:"Access duration",isRequired:!0,labelIcon:Q("access duration")},r().createElement(R.P,null,r().createElement(F.J,null,r().createElement(N.Mt,{width:"300px","aria-label":"Start date",value:i,onChange:function(e,t){b(new Date(t)),c(e),u("")},validators:[function(e){return(0,H.qb)(e)&&e<X?"From date must be today or later":""}]})),r().createElement(F.J,{style:{padding:"6px 12px 0 12px"}},"to"),r().createElement(F.J,null,r().createElement(N.Mt,{width:"300px","aria-label":"End date",value:s,onChange:function(e){return u(e)},validators:[function(e){if((0,H.qb)(y)){if(y>e)return u(""),"To date must be after from date";var t=new Date(y);if(t.setFullYear(t.getFullYear()+1),e>t)return u(""),"Access duration cannot be longer than one year"}return""}],rangeStart:i})))))},ee={paddingBottom:"16px"},te=function(e){var t=e.accountId,a=e.from,n=e.to,o=e.roles;return r().createElement(r().Fragment,null,r().createElement(l.Title,{headingLevel:"h2",style:ee},"Review details"),r().createElement("table",null,r().createElement("tr",null,r().createElement("td",{style:ee},r().createElement("b",null,"Account ID")),r().createElement("td",{style:ee},t)),r().createElement("tr",null,r().createElement("td",{style:{paddingRight:"32px"}},r().createElement("b",null,"Access duration")),r().createElement("td",null)),r().createElement("tr",null,r().createElement("td",null,"From"),r().createElement("td",null,a)),r().createElement("tr",null,r().createElement("td",{style:ee},"To"),r().createElement("td",{style:ee},n)),r().createElement("tr",null,r().createElement("td",null,r().createElement("b",null,"Roles")),r().createElement("td",null,o[0].name)),o.splice(1).map((function(e){return r().createElement("tr",{key:e.uuid},r().createElement("td",null),r().createElement("td",null,e.name))}))))},ae=function(e){var t=e.row,a=void 0===t?[]:t,n=e.variant,o=e.onClose,i=r().useState(),l=d()(i,2),c=l[0],s=l[1],u=r().useState(a[1]),m=d()(u,2),p=m[0],f=m[1],y=r().useState("renew"===n?(0,j.I)(new Date):a[2]),b=d()(y,2),g=b[0],E=b[1],h=r().useState("renew"===n?void 0:a[3]),C=d()(h,2),T=C[0],v=C[1],S=r().useState([]),w=d()(S,2),Z=w[0],k=w[1];r().useEffect((function(){window.insights.chrome.auth.getUser().then((function(e){e&&e.identity&&e.identity.user?s(e.identity.user):console.log("couldnt fetch user?",e)}),(function(e){return console.error("couldnt fetch user",e)}))}),[]);var _=[p,g,T].every(Boolean),A=Z.length>0,P=[{name:"Request details",component:r().createElement($,{user:c,accountId:p,setAccountId:f,from:g,setFrom:E,to:T,setTo:v,disableAccount:"edit"===n||"renew"===n}),enableNext:_},{name:"Select roles",component:r().createElement(Y,{roles:Z,setRoles:k}),enableNext:A,canJumpTo:_},{name:"Review details",component:r().createElement(te,{accountId:p,from:g,to:T,roles:Z}),canJumpTo:_&&A,nextButtonText:"Finish"}],D="".concat(n,"-request"),q="".concat(n," request");return r().createElement(I.Modal,{variant:"large",showClose:!1,hasNoBodyWrapper:!0,isOpen:!0,onClose:o,"aria-describedby":q,"aria-labelledby":D},r().createElement(x.e,{titleId:D,descriptionId:q,title:(0,U.kC)(n)+" request",steps:P,onClose:o}))};ae.displayName="EditRequestModal";const ne=ae;var re=a(5451),oe=a(4564),ie=a(3235),le=a(8802),ce=a(5427),se=["pending","approved","denied","cancelled","expired"];function ue(e,t){var a=e[5],n=[];return"pending"===a?(n.push({title:"Edit",onClick:function(){return t({type:"edit",row:e})}}),n.push({title:"Cancel",onClick:function(){return t({type:"cancel",row:e})}})):"expired"===a&&n.push({title:"Renew",onClick:function(){return t({type:"renew",row:e})}}),{items:n,disable:0===n.length}}var de=new Intl.DateTimeFormat("en-GB",{dateStyle:"medium"}),me=new Intl.DateTimeFormat("en-GB",{dateStyle:"medium",timeStyle:"short",timeZone:"UTC"}),pe=function(){var e=["Request ID","Account ID","Start date","End date","Created","Status"],t=r().useState([["0004","84282","2020-04-24","2021-04-24","2029-02-13T11:24:03.591Z","pending"],["0003","87654","2020-02-13","2021-04-24","2029-02-12T11:24:03.591Z","approved"],["0002","114470","2019-04-24","2020-04-24","2020-02-13T11:24:03.591Z","denied"],["0001","169280","2019-04-24","2020-04-24","2019-02-13T11:24:03.591Z","expired"],["0000","169280","2019-04-24","2020-04-24","2018-02-13T11:24:03.591Z","cancelled"]]),a=d()(t,1)[0],n=r().useState(4),o=d()(n,2),i=o[0],l=o[1],c=r().useState("desc"),u=d()(c,2),I=u[0],A=u[1],x=function(e,t,a){l(t),A(a)},D=r().useState(1),q=d()(D,2),R=q[0],F=q[1],B=r().useState(10),N=d()(B,2),L=N[0],M=N[1],O=function(e){var t=e.id;return r().createElement(h.Pagination,{itemCount:a.length,perPage:L,page:R,onSetPage:function(e,t){return F(t)},id:"access-requests-table-pagination-"+t,variant:t,onPerPageSelect:function(e,t){return M(t)}})},J=r().useState(!1),W=d()(J,2),Y=W[0],H=W[1],j=r().useState(e[0]),z=d()(j,2),K=z[0],Q=z[1],X=r().useState(!1),$=d()(X,2),ee=$[0],te=$[1],ae=r().useState([]),pe=d()(ae,2),fe=pe[0],ye=pe[1],be="filter-status",ge="Filter by status",Ee=r().useState({type:null}),he=d()(Ee,2),Ce=he[0],Te=he[1];return r().createElement(r().Fragment,null,r().createElement(p.o,{id:"access-requests-table-toolbar"},r().createElement(y.c,null,r().createElement(f.ToolbarItem,null,r().createElement(g.InputGroup,null,r().createElement(C.Dropdown,{isOpen:Y,onSelect:function(e){H(!1),Q(e.target.value),te(!1)},toggle:r().createElement(T.DropdownToggle,{onToggle:function(e){return H(e)}},r().createElement(V.ZP,null)," ",K),dropdownItems:[0,1,5].map((function(t){return e[t]})).map((function(e){return r().createElement(v.DropdownItem,{key:e,value:e,component:"button"},(0,U.kC)(e))}))}),"Status"===K?r().createElement(r().Fragment,null,r().createElement("span",{id:be,hidden:!0},ge),r().createElement(S.Select,{"aria-labelledby":be,variant:"checkbox","aria-label":"Select statuses",onToggle:function(e){return te(e)},onSelect:function(e,t){fe.includes(t)?ye(fe.filter((function(e){return e!==t}))):ye([].concat(s()(fe),[t]))},isOpen:ee,selections:Array.from(fe),isCheckboxSelectionBadgeHidden:!0,placeholderText:ge},se.map((function(e){return r().createElement(w.SelectOption,{key:e,value:e},(0,U.kC)(e))})))):r().createElement(r().Fragment,null,r().createElement(E.TextInput,{name:"requestsSearch",id:"requestsSearch",type:"search","aria-label":"Search input"}),r().createElement(b.Button,{variant:"control","aria-label":"Search button for search input"},r().createElement(G.ZP,null))))),r().createElement(f.ToolbarItem,null,r().createElement(b.Button,{variant:"primary",onClick:function(){return Te({type:"create"})}},"Create request")),r().createElement(f.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},r().createElement(O,{id:"top"}))),r().createElement(y.c,null,r().createElement(Z.ChipGroup,{categoryName:"Status"},fe.map((function(e){return r().createElement(k.Chip,{key:e,onClick:function(){return ye(fe.filter((function(t){return t!==e})))}},e)}))),fe.length>0&&r().createElement(b.Button,{variant:"link",onClick:function(){return ye([])}},"Clear filters"))),r().createElement(_.TableComposable,{"aria-label":"Access requests table",variant:"compact"},r().createElement(_.Thead,null,r().createElement(_.Tr,null,e.map((function(e,t){return r().createElement(_.Th,{key:t,sort:{sortBy:{index:i,direction:I},onSort:x,columnIndex:t}},e)})),r().createElement(_.Th,null))),r().createElement(_.Tbody,null,a.filter((function(e){return!(fe.length>0)||fe.includes(e[5])})).sort((function(e,t){return"asc"===I?e[i].localeCompare(t[i]):t[i].localeCompare(e[i])})).map((function(t,a){return r().createElement(_.Tr,{key:a},r().createElement(_.Td,{dataLabel:e[0]},r().createElement("a",{href:"/settings/rbac/access-requests/".concat(t[0])},t[0])),r().createElement(_.Td,{dataLabel:e[1]},t[1]),r().createElement(_.Td,{dataLabel:e[2]},de.format(new Date(t[2]))),r().createElement(_.Td,{dataLabel:e[3]},de.format(new Date(t[3]))),r().createElement(_.Td,{dataLabel:e[4]},me.format(new Date(t[4]))," UTC"),r().createElement(_.Td,{dataLabel:e[5]},r().createElement(m._,(o=null,i=null,"pending"===(n=t[5])?(o="blue",i=r().createElement(le.ZP,null)):"approved"===n?(o="green",i=r().createElement(re.default,null)):"denied"===n?(o="red",i=r().createElement(oe.default,null)):"cancelled"===n?(o="orange",i=r().createElement(ie.ZP,null)):"expired"===n&&(o="grey",i=r().createElement(ce.ZP,null)),{color:o,icon:i}),(0,U.kC)(t[5]))),r().createElement(_.Td,{actions:ue(t,Te)}));var n,o,i})))),r().createElement(O,{id:"bottom"}),"cancel"===Ce.type&&r().createElement(P,{requestId:Ce.row[0],onClose:function(){return Te({type:null})}}),["edit","renew","create"].includes(Ce.type)&&r().createElement(ne,{variant:Ce.type,row:Ce.row,onClose:function(){return Te({type:null})}}))};pe.displayName="AccessRequestsTable";const fe=pe,ye=(0,o.withRouter)((function(){return r().createElement(r().Fragment,null,r().createElement(i.NP,{variant:"light"},r().createElement(l.Title,{headingLevel:"h1",className:"pf-u-pb-sm"},"Access Requests"),r().createElement("p",null,"Below is a list of all submitted requests for read only account access.")),r().createElement(i.NP,{variant:"light"},r().createElement(fe,null)))}))}}]);
//# sourceMappingURL=AccessRequestsPage.a8d209b0671dbabe89b6.js.map