(self.webpackChunkaccessRequests=self.webpackChunkaccessRequests||[]).push([[932],{93926:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var l=a(93345),n=a.n(l),r=a(47931),s=a(8674);a(39829);const c="pf-m-current";var i=a(33774),m=a(31398);const u=e=>{var{children:t=null,className:a="","aria-label":n="Breadcrumb",ouiaId:r,ouiaSafe:c=!0}=e,o=(0,s.__rest)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const d=(0,m.iK)(u.displayName,r,c);return l.createElement("nav",Object.assign({},o,{"aria-label":n,className:(0,i.A)("pf-v5-c-breadcrumb",a)},d),l.createElement("ol",{className:"pf-v5-c-breadcrumb__list",role:"list"},l.Children.map(t,((e,t)=>{const a=t>0;return l.isValidElement(e)?l.cloneElement(e,{showDivider:a}):e}))))};u.displayName="Breadcrumb";var o=a(89015);const d=e=>{var{children:t=null,className:a="",to:n,isActive:r=!1,isDropdown:m=!1,showDivider:u,target:d,component:E="a",render:b}=e,p=(0,s.__rest)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const g=E,f=r?"page":void 0,v=(0,i.A)("pf-v5-c-breadcrumb__link",r&&c);return l.createElement("li",Object.assign({},p,{className:(0,i.A)("pf-v5-c-breadcrumb__item",a)}),u&&l.createElement("span",{className:"pf-v5-c-breadcrumb__item-divider"},l.createElement(o.Ay,null)),"button"===E&&l.createElement("button",{className:v,"aria-current":f,type:"button"},t),m&&l.createElement("span",{className:(0,i.A)("pf-v5-c-breadcrumb__dropdown")},t),b&&b({className:v,ariaCurrent:f}),n&&!b&&l.createElement(g,{href:n,target:d,className:v,"aria-current":f},t),!n&&"button"!==E&&!m&&t)};d.displayName="BreadcrumbItem";var E=a(27565),b=a(60316),p=a(60915),g=a(29670);const f=e=>{var{children:t,className:a,component:n="div"}=e,r=(0,s.__rest)(e,["children","className","component"]);const{cardId:c,registerTitleId:m}=l.useContext(p.E),u=n,o=c?`${c}-title`:"";return l.useEffect((()=>(m(o),()=>m(""))),[m,o]),l.createElement("div",{className:(0,i.A)(g.A.cardTitle)},l.createElement(u,Object.assign({className:(0,i.A)(g.A.cardTitleText,a),id:o||void 0},r),t))};f.displayName="CardTitle";var v=a(983),h=a(96998),_=a(96553),N=a(71601),y=a(1902),A=a(81855),I=a(77459),q=a(3758);const w=e=>{var{id:t="",children:a=null,className:n="",isOpen:r=!1,"aria-label":c="Actions",parentRef:i=null,getMenuRef:m=null,isActive:u=!1,isPlain:o=!1,isDisabled:d=!1,bubbleEvent:E=!1,onToggle:b=(()=>{}),ref:p}=e,g=(0,s.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return l.createElement(q.l,Object.assign({id:t,className:n,isOpen:r,"aria-label":c,parentRef:i,getMenuRef:m,isActive:u,isPlain:o,isDisabled:d,onToggle:b,bubbleEvent:E},g),l.createElement(I.Ay,null))};w.displayName="KebabToggle";var R=a(99780),x=a(49634),S=a(1448),C=a(11830),T=a(92391),k=a(8010),D=a(36318),O=a(33783),Z=a(38953),j=a(80562),z=a(5556),L=a.n(z),P=a(20886);const B=({isInternal:e})=>{const[t,a]=n().useState(),{requestId:l}=(0,x.useParams)(),s=(0,S.wA)();n().useEffect((()=>{P.A.get(`/api/rbac/v1/cross-account-requests/${l}/${e?"?query_by=user_id":"?query_by=target_org"}`,{headers:{Accept:"application/json"}}).then((e=>{if(e.errors)throw Error(e.errors.map((e=>e.detail)).join("\n"));a(e)})).catch((e=>{s((0,C.z8)({variant:"danger",title:"Could not load access request",description:e.message}))}))}),[]);const[c,i]=n().useState({type:null}),m=()=>i({type:null}),o=(0,j.f)(t&&t.status,l,i),[g,I]=n().useState(!1),q=[...e?["request_id","target_account","target_org"]:["first_name","last_name"],"start_date","end_date","created"];return n().createElement(n().Fragment,null,n().createElement(E.d8,{variant:"light"},n().createElement(u,null,n().createElement(d,{render:()=>n().createElement(x.Link,{to:".."},!e&&"Red Hat ","Access Requests")}),n().createElement(d,null,l)),n().createElement(h.s,{direction:{default:"column",md:"row"}},n().createElement(_.Z,{grow:{default:"grow"}},n().createElement(b.h,{headingLevel:"h1",size:"2xl",className:"pf-v5-u-pt-md"},l)),e&&o.items.length>0&&n().createElement(_.Z,{alignSelf:{default:"alignRight"}},n().createElement(A.m,{position:"right",toggle:n().createElement(w,{onToggle:()=>I(!g),id:"actions-toggle"}),isOpen:g,isPlain:!0,dropdownItems:o.items.map((({title:e,onClick:t})=>n().createElement(R.t,{key:e,component:"button",onClick:t},e))),isDisabled:o.disable})))),n().createElement(E.d8,null,n().createElement(h.s,{spaceItems:{xl:"spaceItemsLg"},direction:{default:"column",lg:"row"}},n().createElement(_.Z,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},n().createElement(p.Z,{ouiaId:"request-details",style:{height:"100%"}},n().createElement(f,null,n().createElement(b.h,{headingLevel:"h2",size:"xl"},"Request details")),n().createElement(v.b,null,t?n().createElement(n().Fragment,null,n().createElement("div",{className:"pf-v5-u-pb-md"},e?n().createElement("div",null,n().createElement("label",null,n().createElement("b",null,"Request status")),n().createElement("br",null),n().createElement(y.J,{className:"pf-v5-u-mt-sm",...(0,Z.l)(t.status)},(0,r.ZH)(t.status))):n().createElement(n().Fragment,null,n().createElement("label",null,n().createElement("b",null,"Request decision")),n().createElement("br",null),n().createElement(j.V,{requestId:l,status:t.status}))),q.map(((e,a)=>n().createElement("div",{className:"pf-v5-u-pb-md",key:a},n().createElement("label",null,n().createElement("b",null,(0,r.ZH)(e.replace(/_/g," ").replace("id","ID")))),n().createElement("br",null),n().createElement("div",null,t[e]))))):n().createElement(N.y,{size:"xl"})))),n().createElement(_.Z,{flex:{default:"flex_3"},grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},n().createElement(p.Z,{ouiaId:"request-roles",style:{height:"100%"}},n().createElement(f,null,n().createElement(b.h,{headingLevel:"h2",size:"xl"},"Roles requested")),n().createElement(v.b,null,t?n().createElement(T.A,{roles:t.roles}):n().createElement(N.y,{size:"xl"})))))),"cancel"===c.type&&n().createElement(D.A,{requestId:l,onClose:m}),"edit"===c.type&&n().createElement(O.A,{variant:"edit",requestId:l,onClose:m}))},F=e=>{const{getRegistry:t}=(0,l.useContext)(k.N);return n().createElement(S.Kq,{store:t().getStore()},n().createElement(B,{isInternal:e?.isInternal}))};F.propTypes={getRegistry:L().func,isInternal:L().bool},B.propTypes={isInternal:L().bool};const H=F},39829:()=>{}}]);