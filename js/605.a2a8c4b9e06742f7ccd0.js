(self.webpackChunk_redhat_cloud_services_access_requests_frontend=self.webpackChunk_redhat_cloud_services_access_requests_frontend||[]).push([[605,20],{21458:(e,t,r)=>{"use strict";r.d(t,{wN:()=>l,FV:()=>a,L1:()=>c});var n=r(17558),l=function(e){return{type:n.Dv,payload:e}},a=function(e){return{type:n.Kf,payload:e}},c=function(){return{type:n.wt}}},85118:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n="API_ERROR"},51020:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q});var n=r(87462),l=r(42982),a=r(70885),c=r(92950),s=r.n(c),u=r(56976),i=r(80164),o=r(334),m=r(51352),d=r(83215),E=r(31643),f=r(17733),g=r(42863),p=r(76710),v=r(42027),b=r(45697),h=r.n(b),y=r(24874),I=function(e){var t=e.isInternal,r=s().useState(),c=(0,a.Z)(r,2),b=c[0],h=c[1],I=(0,o.useParams)().requestId,_=(0,m.I0)();s().useEffect((function(){y.Z.get("".concat("/api/rbac/v1","/cross-account-requests/").concat(I,"/").concat(t?"?query_by=user_id":""),{headers:{Accept:"application/json"}}).then((function(e){if(e.errors)throw Error(e.errors.map((function(e){return e.detail})).join("\n"));h(e)})).catch((function(e){_((0,d.wN)({variant:"danger",title:"Could not load access request",description:e.message}))}))}),[]);var q=s().useState({type:null}),x=(0,a.Z)(q,2),C=x[0],w=x[1],S=function(){return w({type:null})},R=(0,v.m)(b&&b.status,I,w),Z=s().useState(!1),k=(0,a.Z)(Z,2),F=k[0],T=k[1],L=[].concat((0,l.Z)(t?["request_id","target_account"]:["first_name","last_name"]),["start_date","end_date","created"]);return s().createElement(s().Fragment,null,s().createElement(u.PageSection,{variant:"light"},s().createElement(u.Breadcrumb,null,s().createElement(u.BreadcrumbItem,{render:function(){return s().createElement(o.Link,{to:t?"/":"/access-requests"},!t&&"Red Hat ","Access Requests")}}),s().createElement(u.BreadcrumbItem,null,I)),s().createElement(u.Flex,{direction:{default:"column",md:"row"}},s().createElement(u.FlexItem,{grow:{default:"grow"}},s().createElement(u.Title,{headingLevel:"h1",size:"2xl",className:"pf-u-pt-md"},I)),t&&R.items.length>0&&s().createElement(u.FlexItem,{alignSelf:{default:"alignRight"}},s().createElement(u.Dropdown,{position:"right",toggle:s().createElement(u.KebabToggle,{onToggle:function(){return T(!F)},id:"actions-toggle"}),isOpen:F,isPlain:!0,dropdownItems:R.items.map((function(e){var t=e.title,r=e.onClick;return s().createElement(u.DropdownItem,{key:t,component:"button",onClick:r},t)})),isDisabled:R.disable})))),s().createElement(u.PageSection,null,s().createElement(u.Flex,{spaceItems:{xl:"spaceItemsLg"},direction:{default:"column",lg:"row"}},s().createElement(u.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},s().createElement(u.Card,{ouiaId:"request-details",style:{height:"100%"}},s().createElement(u.CardTitle,null,s().createElement(u.Title,{headingLevel:"h2",size:"xl"},"Request details")),s().createElement(u.CardBody,null,b?s().createElement(s().Fragment,null,s().createElement("div",{className:"pf-u-pb-md"},t?s().createElement("div",null,s().createElement("label",null,s().createElement("b",null,"Request status")),s().createElement("br",null),s().createElement(u.Label,(0,n.Z)({className:"pf-u-mt-sm"},(0,p.Q)(b.status)),(0,i.kC)(b.status))):s().createElement(s().Fragment,null,s().createElement("label",null,s().createElement("b",null,"Request decision")),s().createElement("br",null),s().createElement(v.p,{requestId:I,status:b.status}))),L.map((function(e,t){return s().createElement("div",{className:"pf-u-pb-md",key:t},s().createElement("label",null,s().createElement("b",null,(0,i.kC)(e.replace(/_/g," ").replace("id","ID")))),s().createElement("br",null),s().createElement("div",null,b[e]))}))):s().createElement(u.Spinner,{size:"xl"})))),s().createElement(u.FlexItem,{flex:{default:"flex_3"},grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},s().createElement(u.Card,{ouiaId:"request-roles",style:{height:"100%"}},s().createElement(u.CardTitle,null,s().createElement(u.Title,{headingLevel:"h2",size:"xl"},"Roles requested")),s().createElement(u.CardBody,null,b?s().createElement(E.Z,{roles:b.roles}):s().createElement(u.Spinner,{size:"xl"})))))),"cancel"===C.type&&s().createElement(f.Z,{requestId:I,onClose:S}),"edit"===C.type&&s().createElement(g.Z,{variant:"edit",requestId:I,onClose:S}))},_=function(e){var t=e.getRegistry,r=e.isInternal;return s().createElement(m.zt,{store:t().getStore()},s().createElement(I,{isInternal:r}))};_.propTypes={getRegistry:h().func,isInternal:h().bool},I.propTypes={isInternal:h().bool};const q=_},1140:(e,t,r)=>{"use strict";r.d(t,{g:()=>o,Z:()=>d});var n=r(92950),l=r(9036),a=r(84885),c=r(83215),s=r(4942),u=r(85118);const i=(0,s.Z)({},u.j,(function(e,t){return{errorCode:t.payload}}));var o=(0,n.createContext)({getRegistry:function(){}}),m=new l.ZP({},[(0,a.ZP)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]})]);m.register({errorReducer:(0,l.Gg)(i),notifications:c.ee});const d=m},72307:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(6526),l=r(420);function a(e){void 0===e&&(e=n.E);var t=e===n.E?l.o:(0,l.f)(e);return function(){return t().dispatch}}var c=a()},45467:()=>{},34946:()=>{},30187:()=>{},66822:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../sourcemaps/605.72418f21a23b6747c986550909603141.js.map