"use strict";(self.webpackChunkaccessRequests=self.webpackChunkaccessRequests||[]).push([[953],{51020:(e,t,l)=>{l.r(t),l.d(t,{default:()=>C});var n=l(87462),a=l(93433),r=l(29439),c=l(92950),s=l.n(c),u=l(6848),i=l(80164),m=l(62012),o=l(28216),d=l(83215),E=l(69965),g=l(1140),f=l(17733),p=l(479),b=l(76710),h=l(42027),I=l(45697),q=l.n(I),y=l(24874),v=function(e){var t=e.isInternal,l=s().useState(),c=(0,r.Z)(l,2),g=c[0],I=c[1],q=(0,m.useParams)().requestId,v=(0,o.I0)();s().useEffect((function(){y.Z.get("".concat("/api/rbac/v1","/cross-account-requests/").concat(q,"/").concat(t?"?query_by=user_id":"?query_by=target_org"),{headers:{Accept:"application/json"}}).then((function(e){if(e.errors)throw Error(e.errors.map((function(e){return e.detail})).join("\n"));I(e)})).catch((function(e){v((0,d.wN)({variant:"danger",title:"Could not load access request",description:e.message}))}))}),[]);var x=s().useState({type:null}),C=(0,r.Z)(x,2),S=C[0],_=C[1],w=function(){return _({type:null})},k=(0,h.m)(g&&g.status,q,_),R=s().useState(!1),F=(0,r.Z)(R,2),T=F[0],Z=F[1],z=[].concat((0,a.Z)(t?["request_id","target_account","target_org"]:["first_name","last_name"]),["start_date","end_date","created"]);return s().createElement(s().Fragment,null,s().createElement(u.PageSection,{variant:"light"},s().createElement(u.Breadcrumb,null,s().createElement(u.BreadcrumbItem,{render:function(){return s().createElement(m.Link,{to:".."},!t&&"Red Hat ","Access Requests")}}),s().createElement(u.BreadcrumbItem,null,q)),s().createElement(u.Flex,{direction:{default:"column",md:"row"}},s().createElement(u.FlexItem,{grow:{default:"grow"}},s().createElement(u.Title,{headingLevel:"h1",size:"2xl",className:"pf-u-pt-md"},q)),t&&k.items.length>0&&s().createElement(u.FlexItem,{alignSelf:{default:"alignRight"}},s().createElement(u.Dropdown,{position:"right",toggle:s().createElement(u.KebabToggle,{onToggle:function(){return Z(!T)},id:"actions-toggle"}),isOpen:T,isPlain:!0,dropdownItems:k.items.map((function(e){var t=e.title,l=e.onClick;return s().createElement(u.DropdownItem,{key:t,component:"button",onClick:l},t)})),isDisabled:k.disable})))),s().createElement(u.PageSection,null,s().createElement(u.Flex,{spaceItems:{xl:"spaceItemsLg"},direction:{default:"column",lg:"row"}},s().createElement(u.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},s().createElement(u.Card,{ouiaId:"request-details",style:{height:"100%"}},s().createElement(u.CardTitle,null,s().createElement(u.Title,{headingLevel:"h2",size:"xl"},"Request details")),s().createElement(u.CardBody,null,g?s().createElement(s().Fragment,null,s().createElement("div",{className:"pf-u-pb-md"},t?s().createElement("div",null,s().createElement("label",null,s().createElement("b",null,"Request status")),s().createElement("br",null),s().createElement(u.Label,(0,n.Z)({className:"pf-u-mt-sm"},(0,b.Q)(g.status)),(0,i.kC)(g.status))):s().createElement(s().Fragment,null,s().createElement("label",null,s().createElement("b",null,"Request decision")),s().createElement("br",null),s().createElement(h.p,{requestId:q,status:g.status}))),z.map((function(e,t){return s().createElement("div",{className:"pf-u-pb-md",key:t},s().createElement("label",null,s().createElement("b",null,(0,i.kC)(e.replace(/_/g," ").replace("id","ID")))),s().createElement("br",null),s().createElement("div",null,g[e]))}))):s().createElement(u.Spinner,{size:"xl"})))),s().createElement(u.FlexItem,{flex:{default:"flex_3"},grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},s().createElement(u.Card,{ouiaId:"request-roles",style:{height:"100%"}},s().createElement(u.CardTitle,null,s().createElement(u.Title,{headingLevel:"h2",size:"xl"},"Roles requested")),s().createElement(u.CardBody,null,g?s().createElement(E.Z,{roles:g.roles}):s().createElement(u.Spinner,{size:"xl"})))))),"cancel"===S.type&&s().createElement(f.Z,{requestId:q,onClose:w}),"edit"===S.type&&s().createElement(p.Z,{variant:"edit",requestId:q,onClose:w}))},x=function(e){var t=(0,c.useContext)(g.g).getRegistry;return s().createElement(o.zt,{store:t().getStore()},s().createElement(v,{isInternal:null==e?void 0:e.isInternal}))};x.propTypes={getRegistry:q().func,isInternal:q().bool},v.propTypes={isInternal:q().bool};const C=x}}]);
//# sourceMappingURL=../sourcemaps/953.5570810da7964b88ae9e92eb2f7f535b.js.map