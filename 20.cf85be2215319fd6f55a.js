(self.webpackChunk_redhat_cloud_services_access_requests_frontend=self.webpackChunk_redhat_cloud_services_access_requests_frontend||[]).push([[20],{1020:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>v});var n=l(7154),a=l.n(n),r=l(319),c=l.n(r),s=l(3038),u=l.n(s),i=l(3297),m=l.n(i),o=l(3004),d=l(164),E=l(5399),f=l(9971),g=l(3215),p=l(1643),h=l(7733),b=l(2863),_=l(6710),I=l(2027);const v=function(e){var t=e.requestId,l=e.isInternal,n=m().useState(),r=u()(n,2),s=r[0],i=r[1],v=(0,f.useDispatch)();m().useEffect((function(){fetch("".concat("/api/rbac/v1","/cross-account-requests/").concat(t,"/")).then((function(e){return e.json()})).then((function(e){if(e.errors)throw Error(details.errors.map((function(e){return e.detail})).join("\n"));i(e)})).catch((function(e){v((0,g.wN)({variant:"danger",title:"Could not load access request",description:e.message}))}))}),[]);var q=m().useState({type:null}),x=u()(q,2),C=x[0],S=x[1],w=function(){return S({type:null})},k=(0,I.m)(s&&s.status,t,S),y=m().useState(!1),F=u()(y,2),R=F[0],T=F[1],L=[].concat(c()(l?["request_id","target_account"]:["first_name","last_name"]),["start_date","end_date","created"]);return m().createElement(m().Fragment,null,m().createElement(o.PageSection,{variant:"light"},m().createElement(o.Breadcrumb,null,m().createElement(o.BreadcrumbItem,{render:function(){return m().createElement(E.Link,{to:"/"},!l&&"Red Hat ","Access Requests")}}),m().createElement(o.BreadcrumbItem,null,t)),m().createElement(o.Flex,{direction:{default:"column",md:"row"}},m().createElement(o.FlexItem,{grow:{default:"grow"}},m().createElement(o.Title,{headingLevel:"h1",size:"2xl",className:"pf-u-pt-md"},t)),l&&m().createElement(o.FlexItem,{alignSelf:{default:"alignRight"}},m().createElement(o.Dropdown,{position:"right",toggle:m().createElement(o.KebabToggle,{onToggle:function(){return T(!R)},id:"actions-toggle"}),isOpen:R,isPlain:!0,dropdownItems:k.items.map((function(e){var t=e.title,l=e.onClick;return m().createElement(o.DropdownItem,{key:t,component:"button",onClick:l},t)})),isDisabled:k.disable})))),m().createElement(o.PageSection,null,m().createElement(o.Flex,{spaceItems:{xl:"spaceItemsLg"},direction:{default:"column",lg:"row"}},m().createElement(o.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},m().createElement(o.Card,{ouiaId:"request-details",style:{height:"100%"}},m().createElement(o.CardTitle,null,m().createElement(o.Title,{headingLevel:"h2",size:"xl"},"Request details")),m().createElement(o.CardBody,null,s?m().createElement(m().Fragment,null,m().createElement("div",{className:"pf-u-pb-md"},l?m().createElement("div",null,m().createElement("label",null,m().createElement("b",null,"Request status")),m().createElement("br",null),m().createElement(o.Label,a()({className:"pf-u-mt-sm"},(0,_.Q)(s.status)),(0,d.kC)(s.status))):m().createElement(m().Fragment,null,m().createElement("label",null,m().createElement("b",null,"Request decision")),m().createElement("br",null),m().createElement(I.p,{requestId:t,status:s.status}))),L.map((function(e){return m().createElement("div",{className:"pf-u-pb-md"},m().createElement("label",null,m().createElement("b",null,(0,d.kC)(e.replace(/_/g," ").replace("id","ID")))),m().createElement("br",null),m().createElement("div",null,s[e]))}))):m().createElement(o.Spinner,{size:"xl"})))),m().createElement(o.FlexItem,{flex:{default:"flex_3"},grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},m().createElement(o.Card,{ouiaId:"request-roles",style:{height:"100%"}},m().createElement(o.CardTitle,null,m().createElement(o.Title,{headingLevel:"h2",size:"xl"},"Roles requested")),m().createElement(o.CardBody,null,s?m().createElement(p.Z,{roles:s.roles}):m().createElement(o.Spinner,{size:"xl"})))))),"cancel"===C.type&&m().createElement(h.Z,{requestId:t,onClose:w}),"edit"===C.type&&m().createElement(b.Z,{variant:"edit",requestId:t,onClose:w}))}}}]);
//# sourceMappingURL=20.cf85be2215319fd6f55a.js.map